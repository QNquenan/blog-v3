---
title: é‡æ„åšå®¢è®°å½•~
tags:
  - IDM
  - ç¬”è®°
cover: "https://i.p-i.vip/43/20240907-66db336a1ac18.webp"
swiper_index: 6
description: ä¸€è¡Œä»£ç æ¿€æ´»IDM
categories:
  - [Python]
  - [ç¬”è®°]
  - [åšå®¢]
abbrlink: ae5416c7
date: 2024-08-08 20:29:39
---

## å‰è¨€

é¸½äº†å‡ ä¸‡å¹´çš„æ¥ ç»ˆäºå¼€å§‹é‡æ„è‡ªå·±çš„å±å±±åšå®¢äº†ï¼Œæ­¤è´´æ¥è®°å½•æ¥ æ˜¯ç”¨äº†ä»€ä¹ˆä¸œè¥¿å †æˆæ–°çš„ ~~å±å±±~~

## éƒ¨ç½²

- ç”± `GitHub` å‚¨å­˜
- ç”± `Vercel` æ‰˜ç®¡éƒ¨ç½²
- æ›´æ¢ `vercel.cdn.yt-blog.top` èŠ‚ç‚¹åŠ å¿«å›½å†…è®¿é—®é€Ÿåº¦
- ç‰ˆæœ¬ï¼š`hexo: 6.3.0` `butterfly: 4.7.0`

## æ•´ç†é…ç½®æ–‡ä»¶

- å°†ä¸»é¢˜é…ç½®æ–‡ä»¶å¤åˆ¶å‡ºæ¥ï¼Œæ–¹ä¾¿æ›´æ”¹
- å°†é…ç½®æ–‡ä»¶æ³¨é‡Šæ±‰åŒ–

## å›¾åºŠ

æœ¬æ¥æƒ³æä¸ª cdn æ¥åŠ é€Ÿ `GitHub` ä»“åº“å½“å›¾åºŠçš„ï¼Œç»“æœ https è¦è¯ä¹¦ï¼Œå°±å¼€å§‹äº†è‰°è¾›çš„åç‰¢ä¸€æ—¥ã€‚

### è¯ä¹¦

1. å®‰è£… `wsl` ï¼Œåœ¨å¾®è½¯å•†åº—ä¸‹è½½äº†ä¸ª `Ubuntu 2204` ç‰ˆæœ¬ã€‚

2. å¯åŠ¨çš„æ—¶å€™å‡ºé”™äº†ï¼Œä¸€ç›´æŠ¥é”™ `0x8004032d` ã€‚ä¸Šç½‘æŸ¥æ‰¾ä¹‹åä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…å¹¶åˆå§‹åŒ–ï¼ˆå‰ææ˜¯å·²ç»å¼€å¯ `Hype-v` `é€‚ç”¨äºLinuxçš„Windowså­ç³»ç»Ÿ` `è™šæ‹Ÿæœºå¹³å°`ï¼‰ã€‚

   ```cmd
   wsl --install
   ```

3. å°±æ˜¯æ­£å¸¸é…ç½®ç”¨æˆ·åå¯†ç å•¥çš„ï¼ŒæˆåŠŸè¿›å…¥ wslã€‚å¹¶ä½¿ç”¨ sudo å‘½ä»¤è®¾ç½® root å¯†ç ã€‚

   ```sh
   sudo passwd root
   ```

4. å®‰è£… `acme.sh` çš„æ—¶å€™åˆå‡ºé—®é¢˜äº†ï¼Œæ²¡æœ‰ä»£ç†è¿æ¥ä¸ä¸Š `Github` ã€‚è§£å†³æ–¹æ³•æ¥è‡ªåšå®¢å›­çš„ä¸€ç¯‡æ–‡ç«  [ä¼ é€é—¨](https://www.cnblogs.com/hg479/p/17869109.html)ã€‚
   **çœæµï¼š**
   å°±æ˜¯åœ¨ `Windowsä¸­çš„C:\Users\<your_username>` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª.wslconfig æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹ä»£ç ã€‚

   ```config
   [experimental]
    autoMemoryReclaim=gradual
    networkingMode=mirrored
    dnsTunneling=true
    firewall=true
    autoProxy=true
   ```

   å†ä½¿ç”¨ç»ˆç«¯é‡å¯ wslã€‚

   ```shell
   wsl --shutdown
   ```

   **æ³¨æ„ï¼Œæ¯æ¬¡å¼€å…³æ¢¯å­éƒ½è¦é‡æ–°å¯åŠ¨ wsl**

5. æˆåŠŸå®‰è£… `acme.sh` åä¾¿å¼€å§‹æ‰‹åŠ¨ç”Ÿæˆè¯ä¹¦

   - ç¬¬ä¸€æ¬¡è¦å…ˆä½¿ç”¨

     ```sh
     ~/.acme.sh/acme.sh --register-account -m <ä½ çš„é‚®ç®±>
     ```

     æ¥æ³¨å†Œè´¦æˆ·

   - æ³¨å†ŒæˆåŠŸåä½¿ç”¨
     ```sh
     ~/.acme.sh/acme.sh --issue -d <åŸŸå> --dns dns-01
     ```
     ç”Ÿæˆè¯ä¹¦
   - æŒ‰ç…§è¦æ±‚åœ¨åŸŸåæœåŠ¡å•†æ·»åŠ  `TXT` è§£æï¼Œç­‰å€™ç‰‡åˆ»å†æ¬¡è¿è¡Œå‘½ä»¤å°±ç”Ÿæˆè¯ä¹¦äº†

6. ç”Ÿæˆçš„è¯ä¹¦åœ¨/root ç›®å½•ï¼Œè¿™é‡Œåˆå‡ºç°ä¸ªé—®é¢˜ï¼Œæ— æ³•è®¿é—®ï¼Œæ˜¾ç¤ºæ²¡æœ‰æƒé™ã€‚
   **è§£å†³æ–¹æ³•ï¼š**
   ```sh
   cd /
   sudo nano /etc/wsl.conf
   ```
   åœ¨ `wsl.cong` é‡Œé¢æ·»åŠ 
   ```conf
   [user]
   default=root
   ```
   è®©é»˜è®¤è´¦æˆ·æ˜¯ root å°±è§£å†³äº†

### é…ç½® cdn

è‡ªå·±æåŠå¤©æ²¡æˆåŠŸï¼Œæœ€åé—®äº†ä¸€ä¸‹ [ç…®é›ªè¯æ²³å±±](https://blog.cent1pedee.top/) å¤§ä½¬ï¼Œå¹¶è·Ÿç€å¤§ä½¬ä¸€æ­¥ä¸€æ­¥èµ°æ‰æˆåŠŸ

- ç»‘å®šçš„åŠ é€Ÿç½‘ç«™ï¼šè¦åŠ é€Ÿçš„ç½‘ç«™
- æºç«™ï¼šåŠ é€Ÿç½‘ç«™ç»‘å®šçš„æºç«™ï¼Œå¦‚ `vercel` ç»‘å®šåŸŸåçš„æ—¶å€™çš„ `cname.vercel-dns.com` æˆ–è€…æ˜¯ `cf page` ç»‘å®šåŸŸåæ—¶å€™çš„ `xxx.pages.dev`
- https è¯ä¹¦ï¼š[è¯ä¹¦](#è¯ä¹¦)

## å¤–æŒ‚æ ‡ç­¾

ä½¿ç”¨çš„æ˜¯åº—é•¿çš„ `Tag Plugins Plus` ç”¨çš„æ˜¯æºç éƒ¨ç½²ï¼Œç«™å¤–å¡ç‰‡çš„æ ·å¼å› ä¸ºçœ‹åˆ° [June](https://blog.june-pj.cn/) çš„æ ·å¼å¾ˆå–œæ¬¢ï¼Œæ‰€ä»¥å°±ä¹Ÿå»æ´ªå“¥çš„å¸–å­ cv äº†ä¸€ä¸ªä¸‹æ¥ï¼Œç•¥å¾®æ”¹æ”¹ã€‚

{% link å¤–æŒ‚æ ‡ç­¾,Akilarã®ç³–æœå±‹,https://akilar.top/posts/615e2dec/ %}

{% link Hexoçš„Butterflyé­”æ”¹æ•™ç¨‹ï¼šç½‘å€å¡ç‰‡å¤–ç½®æ ‡ç­¾,å¼ æ´ªHeo,https://blog.zhheo.com/p/ccaf9148.html %}

## æ–‡ç« ç‰ˆæƒå¡ç‰‡ç¾åŒ–

ä½¿ç”¨çš„æ˜¯ Fomalhaut å’Œ åº—é•¿ çš„æ ·å¼ï¼Œå¹¶è‡ªå·±ä¿®æ”¹äº†ä¸€ç‚¹ cssã€‚

{% link åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(äºŒ),Fomalhaut,https://www.fomal.cc/posts/5389e93f.html %}

{% link ï¼ˆäºŒåˆ›ï¼‰Copyright-beautify,Akilarã®ç³–æœå±‹,https://akilar.top/posts/8322f8e6/ %}

ä¿®æ”¹è¿‡çš„ css:

```styl
beautify()
  headStyle(fontsize)
    padding-left: unit(fontsize + 12, 'px')

    &:before
      margin-left: unit((-(fontsize + 6)), 'px')
      font-size: unit(fontsize, 'px')

    &:hover
      padding-left: unit(fontsize + 18, 'px')

  h1,
  h2,
  h3,
  h4,
  h5,
  h6
    transition: all .2s ease-out

    &:before
      position: absolute
      top: calc(50% - 7px)
      color: $title-prefix-icon-color
      content: $title-prefix-icon
      line-height: 1
      transition: all .2s ease-out
      @extend .fontawesomeIcon

    &:hover
      &:before
        color: $light-blue

  h1
    headStyle(20)

  h2
    headStyle(18)

  h3
    headStyle(16)

  h4
    headStyle(14)

  h5
    headStyle(12)

  h6
    headStyle(12)

  ol,
  ul
    p
      margin: 0 0 8px

  li
    &::marker
      color: $light-blue
      font-weight: 600
      font-size: 1.05em

    &:hover
      &::marker
        color: var(--pseudo-hover)

  ul > li
    list-style-type: circle

#article-container
  word-wrap: break-word
  overflow-wrap: break-word

  a
    color: $theme-link-color

    &:hover
      text-decoration: underline

  img
    display: block
    margin: 0 auto 20px
    max-width: 100%
    transition: filter 375ms ease-in .2s

  p
    margin: 0 0 16px

  iframe
    margin: 0 0 20px

  if hexo-config('anchor')
    a.headerlink
      &:after
        @extend .fontawesomeIcon
        float: right
        color: var(--headline-presudo)
        content: '\f0c1'
        font-size: .95em
        opacity: 0
        transition: all .3s

      &:hover
        &:after
          color: var(--pseudo-hover)

    h1,
    h2,
    h3,
    h4,
    h5,
    h6
      &:hover
        a.headerlink
          &:after
            opacity: 1

  ol,
  ul
    ol,
    ul
      padding-left: 20px

    li
      margin: 4px 0

    p
      margin: 0 0 8px

  if hexo-config('beautify.enable')
    if hexo-config('beautify.field') == 'site'
      beautify()
    else if hexo-config('beautify.field') == 'post'
      &.post-content
        beautify()

  > :last-child
    margin-bottom: 0 !important

#post
  .tag_share
    .post-meta
      &__tag-list
        display: inline-block

      &__tags
        display: inline-block
        margin: 8px 8px 8px 0
        padding: 0 12px
        width: fit-content
        border: 1px solid $light-blue
        border-radius: 12px
        color: $light-blue
        font-size: .85em
        transition: all .2s ease-in-out

        &:hover
          background: $light-blue
          color: var(--white)

    .post_share
      display: inline-block
      float: right
      margin: 8px 0
      width: fit-content

      .social-share
        font-size: .85em

        .social-share-icon
          margin: 0 4px
          width: w = 1.85em
          height: w
          font-size: 1.2em
          line-height: w

  .post-copyright
    position: relative
    margin: 40px 0 10px
    padding: 10px 16px
    border: 1px solid var(--light-grey)
    transition: box-shadow .3s ease-in-out
    overflow: hidden
    border-radius: 12px!important
    background: none;

    &:before
      background var(--heo-post-blockquote-bg)
      position absolute
      right -26px
      top -120px
      content '\f25e'
      font-size 200px
      font-family 'Font Awesome 5 Brands'
      opacity .2

    &:hover
      box-shadow: 0px 0px 8px 1px #e5e5e5

    .post-copyright
      &-meta
        color: $light-blue
        font-weight: bold

      &-info
        padding-left: 6px

        a
          text-decoration: none
          word-break: break-word

          &:hover
            text-decoration: none

  .post-copyright-cc-info
    color: $theme-color;

  .post-outdate-notice
    position: relative
    margin: 0 0 20px
    padding: .5em 1.2em
    border-radius: 3px
    background-color: $noticeOutdate-bg
    color: $noticeOutdate-color

    if hexo-config('noticeOutdate.style') == 'flat'
      padding: .5em 1em .5em 2.6em
      border-left: 5px solid $noticeOutdate-border

      &:before
        @extend .fontawesomeIcon
        position: absolute
        top: 50%
        left: .9em
        color: $noticeOutdate-border
        content: '\f071'
        transform: translateY(-50%)

  .ads-wrap
    margin: 40px 0
.post-copyright-m-info
  .post-copyright-a,
  .post-copyright-c,
  .post-copyright-u
    display inline-block
    width fit-content
    padding 2px 5px
[data-theme="dark"]
  #post
    .post-copyright
      background #07080a
      text-shadow #bfbeb8 0 0 2px
      border 1px solid rgb(19 18 18 / 35%)
      animation flashlight 1s linear infinite alternate
  .post-copyright-info
    color #e0e0e4

#post
  .post-copyright__title
    font-size 22px
  .post-copyright__notice
    font-size 15px
```

## è¿”å›é¡¶éƒ¨æ˜¾ç¤ºç½‘é¡µé˜…è¯»è¿›åº¦

{% note info simple %}è™½ç„¶ Buttrtfly 4.6 ç‰ˆæœ¬ å°±åŠ å…¥äº†å†…ç½®äº†è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶å¼€å¯ï¼Œä½†æ˜¯å†…ç½®çš„çš„æ»‘åŠ¨æ²¡æœ‰ Leonus çš„ä¸æ»‘ï¼Œæ‰€ä»¥è¿˜æ˜¯é€‰æ‹©è‡ªå·±åŠ¨æ‰‹ã€‚{% endnote %}

ç”¨äº† Leonus çš„æ•™ç¨‹ï¼Œä½†æ˜¯å‘ç° Leonus å¤§ä½¬çš„ js åœ¨æˆ‘è¿™é‡Œæœ‰ç‚¹å°é—®é¢˜ï¼Œæ‰€ä»¥ä¹Ÿè‡ªå·±ä¿®æ”¹äº†ä¸€ä¸‹ã€‚

{% link è¿”å›é¡¶éƒ¨æ˜¾ç¤ºç½‘é¡µé˜…è¯»è¿›åº¦,Leonus,https://blog.leonus.cn/2022/percent.html %}

è¿™æ˜¯æˆ‘ä¿®æ”¹è¿‡çš„ jsï¼ˆæŠŠ `childNodes` æ”¹æˆäº† `children`ï¼‰

```js
window.onscroll = percent; // æ‰§è¡Œå‡½æ•°
// é¡µé¢ç™¾åˆ†æ¯”
function percent() {
  let a = document.documentElement.scrollTop || window.pageYOffset, // å·å»é«˜åº¦
    b =
      Math.max(
        document.body.scrollHeight,
        document.documentElement.scrollHeight,
        document.body.offsetHeight,
        document.documentElement.offsetHeight,
        document.body.clientHeight,
        document.documentElement.clientHeight
      ) - document.documentElement.clientHeight, // æ•´ä¸ªç½‘é¡µé«˜åº¦
    result = Math.round((a / b) * 100), // è®¡ç®—ç™¾åˆ†æ¯”
    up = document.querySelector("#go-up"); // è·å–æŒ‰é’®
  percentSpan = document.querySelector("#percent"); // è·å–æ˜¾ç¤ºçš„æŒ‰é’®

  if (result <= 95) {
    up.children[0].style.display = "none";
    up.children[1].style.display = "block";
    percentSpan.children[0].innerHTML = result;
  } else {
    up.children[1].style.display = "none";
    up.children[0].style.display = "block";
  }
}
```

## æ‰“å¼€æ§åˆ¶å°å’Œå¤åˆ¶æé†’

æŒ‰é”®é˜²æŠ–ï¼š

{% link åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(ä¸‰),Fomalhaut,https://www.fomal.cc/posts/2d7ac914.html %}

```js
// æŒ‰é”®é˜²æŠ–

let TT = null; // é˜²æŠ–å…¨å±€è®¡æ—¶å™¨
/**
 * é˜²æŠ–å‡½æ•°
 * @param {é€»è¾‘} fn
 * @param {é˜²æŠ–æ—¶é—´} time
 */
function debounce(fn, time) {
  if (TT !== null) clearTimeout(TT);
  TT = setTimeout(fn, time);
}

// æŒ‰é”®é˜²æŠ– end --

// æ£€æµ‹äº‹ä»¶å¹¶å¼¹çª—

document.onkeydown = function (e) {
  // å¤åˆ¶
  if (e.ctrlKey && e.key === "c") {
    debounce(function () {
      Snackbar.show({
        text: "å¤åˆ¶æˆåŠŸå•¦ğŸŒè‹¥è¦è½¬è½½æœ€å¥½ä¿ç•™åŸæ–‡é“¾æ¥!",
        pos: "top-right",
        actionText: "ç‰ˆæƒå£°æ˜",
        actionTextColor: "#FF8599",
        onActionClick: function () {
          location.assign("/privacy");
        },
      });
    }, 300);
  }

  // æ‰“å¼€æ§åˆ¶å°
  if (
    123 == e.keyCode ||
    (e.ctrlKey &&
      e.shiftKey &&
      (74 === e.keyCode || 73 === e.keyCode || 67 === e.keyCode)) ||
    (e.ctrlKey && 85 === e.keyCode)
  ) {
    debounce(function () {
      Snackbar.show({
        text: "å¼€å‘è€…æ¨¡å¼å·²æ‰“å¼€ğŸŸè®°ä½è¦éµå¾ªGPLåè®®å–!",
        pos: "top-right",
        showAction: false,
      });
    }, 300);
  }
};

// æ£€æµ‹äº‹ä»¶å¹¶å¼¹çª— end --
```

```css
/* Snackbarå¼¹çª— */

.snackbar-container {
  border-radius: 15px;
}

/* Snackbarå¼¹çª— end */
```

## Heo åŠ è½½åŠ¨ç”»

{% link HeoåŒæ¬¾loadingåŠ¨ç”»,å®‰çŸ¥é±¼,https://blog.anheyu.com/posts/52d8.html %}

## åšå®¢å®½å±é€‚é…

{% link åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(å››),Fomalhaut,https://www.fomal.cc/posts/d739261b.html %}

## æ–‡ç« åŒæ 

åœ¨åº—é•¿çš„æ•™ç¨‹ä¸Šåšäº†ä¸€ç‚¹è‡ªå·±çš„ä¿®æ”¹

{% link åŒæ å¸ƒå±€é¦–é¡µå¡ç‰‡é­”æ”¹æ•™ç¨‹,Akilarã®ç³–æœå±‹,https://akilar.top/posts/d6b69c49/ %}

æ›¿æ¢ `[themes]\butterfly\layout\includes\mixins\post-ui.pug` ä¸ºä¸‹é¢ä»£ç ï¼ˆç”¨çš„æ˜¯åº—é•¿çš„ï¼Œåˆ å‡äº†ä¸€äº›ä¸œè¥¿ï¼‰

```pug
mixin postUI(posts)
  each article , index in page.posts.data
    .recent-post-item
      -
        let link = article.link || article.path
        let title = article.title || _p('no_title')
        const position = theme.cover.position
        let leftOrRight = position === 'both'
          ? index%2 == 0 ? 'left' : 'right'
          : position === 'left' ? 'left' : 'right'
        let post_cover = article.cover
        let no_cover = article.cover === false || !theme.cover.index_enable ? 'no-cover' : ''
      -
      .recent-post-content(class=leftOrRight)
        .recent-post-cover
          img.article-cover(src=url_for(post_cover) onerror=`this.onerror=null;this.src='`+ url_for(theme.error_img.post_page) + `'` alt=title)
        .recent-post-info
          a.article-title(href=url_for(link) title=title)
            .article-title-link= title
          .recent-post-meta
            .article-meta-wrap
              if (is_home() && (article.top || article.sticky > 0))
                span.article-meta
                  i.fas.fa-thumbtack.sticky
                  span.sticky= _p('sticky')
                  span.article-meta-separator |
              if (theme.post_meta.page.date_type)
                span.post-meta-date
                  if (theme.post_meta.page.date_type === 'both')
                    i.far.fa-calendar-alt
                    span.article-meta-label=_p('post.created')
                    time.post-meta-date-created(datetime=date_xml(article.date) title=_p('post.created') + ' ' + full_date(article.date))=date(article.date, config.date_format)
                    span.article-meta-separator |
                    i.fas.fa-history
                    span.article-meta-label=_p('post.updated')
                    time.post-meta-date-updated(datetime=date_xml(article.updated) title=_p('post.updated') + ' ' + full_date(article.updated))=date(article.updated, config.date_format)
                  else
                    - let data_type_updated = theme.post_meta.page.date_type === 'updated'
                    - let date_type = data_type_updated ? 'updated' : 'date'
                    - let date_icon = data_type_updated ? 'fas fa-history' :'far fa-calendar-alt'
                    - let date_title = data_type_updated ? _p('post.updated') : _p('post.created')
                    i(class=date_icon)
                    span.article-meta-label=date_title
                    time(datetime=date_xml(article[date_type]) title=date_title + ' ' + full_date(article[date_type]))=date(article[date_type], config.date_format)
              if (theme.post_meta.page.categories && article.categories.data.length > 0)
                span.article-meta
                  span.article-meta-separator |
                  i.fas.fa-inbox
                  each item, index in article.categories.data
                    a(href=url_for(item.path)).article-meta__categories #[=item.name]
                    if (index < article.categories.data.length - 1)
                      i.fas.fa-angle-right.article-meta-link
              if (theme.post_meta.page.tags && article.tags.data.length > 0)
                span.article-meta.tags
                  span.article-meta-separator |
                  i.fas.fa-tag
                  each item, index in article.tags.data
                    a(href=url_for(item.path)).article-meta__tags #[=item.name]
                    if (index < article.tags.data.length - 1)
                      span.article-meta-link #[='â€¢']

              mixin countBlockInIndex
                - needLoadCountJs = true
                span.article-meta
                  span.article-meta-separator |
                  i.fas.fa-comments
                  if block
                    block
                  span.article-meta-label= ' ' + _p('card_post_count')

              if theme.comments.card_post_count
                case theme.comments.use[0]
                  when 'Disqus'
                    +countBlockInIndex
                      a(href=full_url_for(link) + '#disqus_thread')
                        i.fa-solid.fa-spinner.fa-spin
                  when 'Disqusjs'
                    +countBlockInIndex
                      a(href=full_url_for(link) + '#disqusjs')
                        span.disqus-comment-count(data-disqus-url=full_url_for(link))
                          i.fa-solid.fa-spinner.fa-spin
                  when 'Valine'
                    +countBlockInIndex
                      a(href=url_for(link) + '#post-comment')
                        span.valine-comment-count(data-xid=url_for(link))
                          i.fa-solid.fa-spinner.fa-spin
                  when 'Waline'
                    +countBlockInIndex
                      a(href=url_for(link) + '#post-comment')
                        span.waline-comment-count(id=url_for(link))
                          i.fa-solid.fa-spinner.fa-spin
                  when 'Twikoo'
                    +countBlockInIndex
                      a.twikoo-count(href=url_for(link) + '#post-comment')
                        i.fa-solid.fa-spinner.fa-spin
                  when 'Facebook Comments'
                    +countBlockInIndex
                      a(href=url_for(link) + '#post-comment')
                        span.fb-comments-count(data-href=urlNoIndex(article.permalink))
                  when 'Remark42'
                    +countBlockInIndex
                      a(href=url_for(link) + '#post-comment')
                        span.remark42__counter(data-url=urlNoIndex(article.permalink))
                          i.fa-solid.fa-spinner.fa-spin
                  when 'Artalk'
                    +countBlockInIndex
                      a(href=url_for(link) + '#post-comment')
                        span.artalk-count(data-page-key=url_for(link))
                          i.fa-solid.fa-spinner.fa-spin
        a.article-content(href=url_for(link) title=title)

    if theme.ad && theme.ad.index
      if (index + 1) % 3 == 0
        .recent-post-item.ads-wrap!=theme.ad.index
```

ç”¨çš„æ˜¯ **æ¨¡å¼äºŒ** å¹¶ä¸”å°†ä¸‰æ ä¿®æ”¹æˆåŒæ ï¼ŒåŠ ä¸Šè‡ªå·±çš„ä¸€äº›ä¿®æ”¹

```styl
// é»˜è®¤çš„é¦–é¡µå¡ç‰‡å®¹å™¨å¸ƒå±€
.recent-posts
  padding 0 15px 0 15px
  height fit-content
  .recent-post-item
    margin-bottom 15px
    background var(--recent-post-bgcolor)
    overflow hidden
    border-radius 15px
    .recent-post-content
      display flex
      background var(--recent-post-bgcolor)
      position relative
      .recent-post-cover
        display flex
        background transparent
      .recent-post-info
        display flex
        background transparent
        flex-direction column
        justify-content center
        align-items center
        .article-title
          height 50%
          display: flex
          text-align: center
          align-items: center
          justify-content: flex-end
          flex-direction: column
          .article-title-link
            color: var(--text-highlight-color)
            font-size: 20px
            -webkit-line-clamp: 2
            line-height: 30px
            margin-top: 0
            font-weight: 700
            margin-bottom: 0
            width: 100%
            -webkit-transition: .3s
            -moz-transition: .3s
            -o-transition: .3s
            -ms-transition: .3s
            transition: .3s
            display: -webkit-box
            overflow: hidden
            -webkit-box-orient: vertical
            &:hover
              color: $text-hover
        .recent-post-meta
          height 50%
          display: flex
          text-align: center
          flex-direction: row
          align-items: center
          .article-meta-wrap
            color #969797
            display: -webkit-box;
            -webkit-box-orient: vertical
            overflow: hidden
            a
              color: var(--text-highlight-color)
              transition: all .2s ease-in-out
              color #969797
              &:hover
                color: $text-hover
      .article-content
        display flex
        text-align: center
        flex-direction row
        align-items center
        justify-content center
        .article-content-text
          display -webkit-box
          -webkit-box-orient vertical
          text-overflow: ellipsis
          overflow hidden
          color #fff
          text-shadow 1px 2px 3px #000
    &.ads-wrap
      display: block !important
      height: auto !important
  nav#pagination
    width: 100%
// å¡ç‰‡å•å…ƒå¸ƒå±€æ ·å¼
.recent-posts
  padding 0 15px 0 15px
  display flex
  flex-direction row
  flex-wrap wrap
  justify-content: space-between
  .recent-post-item
    border-radius 15px
    overflow hidden
    .recent-post-content
      flex-direction column
      flex-wrap nowrap
      align-items center
      max-height 400px
      height: auto
      width 100%
      .recent-post-cover
        width 100%
        height 200px
        // clip-path polygon(0 130px,0 0,100% 0,100% 130px,50% 100%)
        img
          height 200px
          width 100%
          object-fit cover
      .recent-post-info
        height 150px
        width 100%
        padding 0px 25px 5px 25px
        .article-title
          margin: 0px 40px
          font-size 18px
          .article-title-link
            -webkit-line-clamp: 2;
        .recent-post-meta
          .article-meta-wrap
            font-size 95%
            -webkit-line-clamp: 3;
      .article-content
        position absolute
        height 200px
        width 100%
        .article-content-text
          -webkit-line-clamp 3
          font-size 16px
          margin 0px 25px 30px 25px
          &::before
            content "â"
            font-size 20px
          &::after
            content "â"
            font-size 20px
// åŒæ å¸ƒå±€å¡ç‰‡è‡ªé€‚åº”é€‚é…
@media screen and (min-width:572px)
  .recent-posts
    .recent-post-item
      width 49%
      border 2px solid var(--recent-post-borderColor)
      box-shadow: var(--card-box-shadow)
      transition: .5s
      &:hover
        box-shadow: var(--card-hover-box-shadow)
        border 2px solid var(--recent-post-hover-borderColor)
// å•æ å¸ƒå±€å¡ç‰‡è‡ªé€‚åº”é€‚é…
@media screen and (max-width:572px)
  .recent-posts
    .recent-post-item
      width 100%
      transition: .5s
```

```css
.article-meta-separator,
.article-meta-wrap i,
.article-meta-link {
  margin: 0 6px;
}
```

## ä¿¡æ¯å¡ç‰‡å¤´åƒçŠ¶æ€

{% link åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(å››),Fomalhaut,https://www.fomal.cc/posts/d739261b.html %}

## Nav å¯¼èˆªæ ä¿®æ”¹

{% note info simple %}

- 2024-8-28 æ›´æ–°
  åŸæœ¬çš„æ ·å¼æœ‰é—®é¢˜ï¼Œæ— æ³•å±…ä¸­ï¼Œæ‰’äº†ä¸€ä¸‹é±¼ä½¬çš„å¯¼èˆªæ ï¼Œé‡æ–°æ”¹äº†ä¸€ç‰ˆ
  {% endnote %}

éƒ¨åˆ†æ¥è‡ªäº

{% link å…³äºButterflyçš„å¯¼èˆªæ çš„ä¸€äº›æ•™ç¨‹,Ariasaka,https://blog.yaria.top/posts/895003b5/ %}

- åˆ†ç¦»æœç´¢æ ä¸èœå•æ 
- å­èœå•æ¨ªå‘å¸ƒå±€
- ç½‘ç«™æ ‡é¢˜éƒ¨åˆ†çš„å¢å¼ºç‰ˆ (è‡ªå·±ä¿®æ”¹äº†ä¸€äº›)
- æ˜¾ç¤ºæ ‡é¢˜ (è‡ªå·±ä¿®æ”¹äº†ä¸Šä¸‹æ»‘åŠ¨åŠ¨ç”»å’Œå»é™¤ jq ä¾èµ–)

### ä¸Šä¸‹æ»‘åŠ¨åŠ¨ç”»

ä¿®æ”¹ `[themes]\butterfly\layout\includes\header\nav.pug`: (æ³¨æ„ç¼©è¿›)

```diff
nav#nav
+  #navBox
    span#blog-info
      a(href=url_for('/') title=config.title)
        if theme.nav.logo
          img.site-icon(src=url_for(theme.nav.logo))
        if theme.nav.display_title
          span.site-name=config.title

    #menus
      !=partial('includes/header/menu_item', {}, {cache: true})
+    #menuTitleBox
+      center(id="name-container")
+        a(id="page-name" href="javascript:scrollToTop()") PAGE_NAME
    #nav-right
      if (theme.algolia_search.enable || theme.local_search.enable)
        #search-button
          a.site-page.social-icon.search
            i.fas.fa-search.fa-fw
        #toggle-menu
          a.site-page
            i.fas.fa-bars.fa-fw
```

æ·»åŠ  `nav.js`

```js
document.addEventListener("pjax:complete", tonav);
document.addEventListener("DOMContentLoaded", tonav);

function tonav() {
  function up() {
    document.querySelector("#name-container").style.transform =
      "translate(-50%, 60px)";
    document.querySelector("#nav .menus_items").style.transform =
      "translateY(0)";
    document.querySelector("#menuTitleBox").style.zIndex = "-1";
  }

  function scrollToTop() {
    btf.scrollToDest(0, 500);
  }

  function updatePageName() {
    const pageNameElement = document.getElementById("page-name");
    if (pageNameElement) {
      pageNameElement.innerText = document.title.split(" | é¹Šæ¥ ã®å°çª")[0];
    } else {
      // ä½¿ç”¨ MutationObserver ç›‘å¬ DOM å˜åŒ–ï¼Œç¡®ä¿å…ƒç´ åŠ è½½åæ›´æ–°æ ‡é¢˜
      const observer = new MutationObserver((mutations, observer) => {
        const pageNameElement = document.getElementById("page-name");
        if (pageNameElement) {
          pageNameElement.innerText = document.title.split(" | é¹Šæ¥ ã®å°çª")[0];
          observer.disconnect(); // å…ƒç´ æ‰¾åˆ°ååœæ­¢è§‚å¯Ÿ
        }
      });

      // å¼€å§‹è§‚å¯Ÿæ•´ä¸ªæ–‡æ¡£
      observer.observe(document.body, { childList: true, subtree: true });
    }
  }

  up();

  var position = window.scrollY;

  window.addEventListener("scroll", function () {
    var scroll = window.scrollY;

    if (scroll > position) {
      document.querySelector("#name-container").style.transform =
        "translate(-50%, 0)";
      document.querySelector("#nav .menus_items").style.transform =
        "translateY(-60px)";
      document.querySelector("#menuTitleBox").style.zIndex = "1";
    } else {
      up();
    }

    position = scroll;
  });

  document
    .querySelector("#name-container")
    .addEventListener("click", function () {
      scrollToTop();
    });

  updatePageName(); // è°ƒç”¨æ›´æ–°é¡µé¢æ ‡é¢˜çš„å‡½æ•°
}
```

å®Œæ•´ css (æˆ‘ä¹ŸæŒ‘ä¸å‡ºæ¥äº†ï¼Œæ··åœ¨ä¸€èµ·)

```css
/* Navå¯¼èˆªæ  */
#nav #navBox {
  width: 100%;
  height: 60px;
  position: relative;
  display: flex;
  align-items: center;
}

#nav .site-page:not(.child):after {
  display: none;
}

.nav-fixed #nav {
  backdrop-filter: blur(5px) saturate(150%);
}

.menus_item_child li:not(#sidebar-menus li) {
  float: left;
  border-radius: 6px !important;
  -webkit-border-radius: 6px !important;
  -moz-border-radius: 6px !important;
  -ms-border-radius: 6px !important;
  -o-border-radius: 6px !important;
}

.menus_item_child:not(#sidebar-menus ul) {
  /*
    left:calc(-150%)!important;è¿™æ˜¯ä¼°ç®—å€¼ï¼Œä¸ºäº†ä¿æŒå…ƒç´ å±…ä¸­çš„ï¼Œå¦‚æœä¸åˆé€‚å¯ä»¥è‡ªå·±è°ƒ
    æ”¹ä¸ºï¼š*/
  left: 50%;
  translate: -50%;
}

#nav #blog-info {
  overflow: visible;
  flex: none;
  z-index: 100;
}

#nav #blog-info a {
  position: relative;
  font-size: 1.2em;
}

#nav #blog-info a::before {
  opacity: 0;
  background-color: var(--theme-color) !important;
  border-radius: 8px;
  -webkit-border-radius: 8px;
  -moz-border-radius: 8px;
  -ms-border-radius: 8px;
  -o-border-radius: 8px;

  transition: 0.3s;
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -ms-transition: 0.3s;
  -o-transition: 0.3s;

  position: absolute;
  transform: translate(-50%, -50%);
  top: 55%;
  left: 50%;
  width: 120%;
  height: 120%;
  content: "\f015";
  box-shadow: 0 0 5px var(--theme-color);
  font-family: "Font Awesome 6 Free";
  text-align: center;
  color: white;
  line-height: 34px;
  font-size: 18px;
  font-weight: 900;
}

#nav #blog-info a:hover::before {
  opacity: 1;
  scale: 1.03;
}

#nav.hide-menu .menus_items {
  display: inline-block;
  transition: 0.3s;
}

#nav .menus_items .menus_item,
#nav .site-page.social-icon.search {
  padding: 0 10px;
  margin: 0 5px;
  border-radius: 10px;
  transition: 0.5s;
}

#nav .menus_items .menus_item:hover,
#nav .site-page.social-icon.search:hover {
  background: var(--theme-color);
  box-shadow: 0 0 5px var(--theme-color);
}

#nav .menus_items .menus_item:hover a {
  color: #fff;
}

#page-header.nav-fixed #nav .menus_items .menus_item:hover a,
#page-header.nav-fixed #nav .site-page.social-icon.search:hover {
  color: #fff;
}

#menuTitleBox {
  position: absolute;
  z-index: -1;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  overflow: hidden;
}

#menuTitleBox #name-container {
  height: 100%;
  line-height: 60px;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  transition: 0.3s;
}

#menuTitleBox #name-container::before {
  opacity: 0;
  background-color: var(--theme-color) !important;
  border-radius: 8px;
  -webkit-border-radius: 8px;
  -moz-border-radius: 8px;
  -ms-border-radius: 8px;
  -o-border-radius: 8px;

  transition: 0.3s;
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -ms-transition: 0.3s;
  -o-transition: 0.3s;

  position: absolute;
  transform: translate(-50%, -50%);
  top: 50%;
  left: 50%;
  width: 100%;
  height: 60%;
  content: "å›åˆ°é¡¶éƒ¨";
  box-shadow: 0 0 5px var(--theme-color);
  text-align: center;
  color: white;
  line-height: 36px;
  font-size: 18px;
  font-weight: 900;
}

#menuTitleBox #name-container:hover::before {
  opacity: 1;
  scale: 1.03;
  cursor: pointer;
}

#nav.hide-menu #toggle-menu {
  display: none !important;
}

#nav #nav-right {
  z-index: 100;
  position: absolute;
  right: 0;
}

#nav a.site-page {
  padding-bottom: 6px;
  display: inline-block;
}

#nav a.site-page span {
  padding-left: 4px;
}

#nav a.site-page::before {
  display: none;
}

#nav #menus {
  position: absolute;
  display: flex;
  width: 100%;
  align-items: center;
  justify-content: center;
}

#nav #menus .menus_items {
  transition: 0.3s;
}

#nav .menus_items .menus_item .menus_item_child {
  padding: 5px;
  border-radius: 15px;
}

#nav .menus_items .menus_item .menus_item_child li {
  transition: 0.3s;
  border-radius: 10px !important;
  margin: 0 2px;
}

#nav .menus_items .menus_item .menus_item_child li:hover {
  background: var(--theme-color);
}

#nav .menus_items .menus_item .menus_item_child li:hover a {
  color: #fff !important;
}

@media screen and (max-width: 768px) {
  /* èœå•ä¿®å¤ */
  #nav.hide-menu #toggle-menu {
    display: inline-block !important;
  }

  #nav #menus,
  #nav #menuTitleBox {
    display: none;
  }

  #nav #blog-info a {
    font-size: 1em;
  }
}

/* Navå¯¼èˆªæ  */
```

{% folding , ä»¥å‰çš„ç‰ˆæœ¬ %}
ä¿®æ”¹ `[themes]\butterfly\layout\includes\header\nav.pug`

```diff
  #menus
    !=partial('includes/header/menu_item', {}, {cache: true})
+    #menuTitleBox
+      center(id="name-container")
+        a(id="page-name" href="javascript:scrollToTop()") PAGE_NAME
  ...
```

åœ¨ js æ–‡ä»¶å¤¹æ–°å»ºå¹¶å¼•ç”¨è¿™æ®µä»£ç 

```js
document.addEventListener("pjax:complete", tonav);
document.addEventListener("DOMContentLoaded", tonav);

function up() {
  document.querySelector("#name-container").style.top = "60px";
  document.querySelector("#nav.hide-menu .menus_items").style.transform =
    "translateY(0)";
  document.querySelector("#menuTitleBox").style.zIndex = "-1";
}

function scrollToTop() {
  btf.scrollToDest(0, 500);
}

function tonav() {
  up();

  var position = window.scrollY;

  window.addEventListener("scroll", function () {
    var scroll = window.scrollY;

    if (scroll > position) {
      document.querySelector("#name-container").style.top = "0";
      document.querySelector("#nav.hide-menu .menus_items").style.transform =
        "translateY(-60px)";
      document.querySelector("#menuTitleBox").style.zIndex = "1";
    } else {
      up();
    }

    position = scroll;
  });

  document
    .querySelector("#name-container")
    .addEventListener("click", function () {
      scrollToTop();
    });

  document.getElementById("page-name").innerText =
    document.title.split(" | é¹Šæ¥ ã®å°çª")[0];
}
```

æœ€åæ˜¯ css éƒ¨åˆ† (ä»…å®ç°è¿™ä¸ªåŠŸèƒ½)

```css
#nav #blog-info {
  overflow: visible;
  flex: none;
  z-index: 99;
}

#menuTitleBox {
  position: absolute;
  z-index: -1;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  overflow: hidden;
}

#menuTitleBox #name-container {
  height: 100%;
  line-height: 60px;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  transition: 0.5s;
}

#nav.hide-menu #toggle-menu {
  display: none !important;
}

#nav #nav-right {
  z-index: 99;
}

@media screen and (max-width: 572px) {
  /* èœå•ä¿®å¤ */
  #nav.hide-menu #toggle-menu {
    display: inline-block !important;
  }

  #menus {
    display: none;
  }

  #nav #blog-info a {
    font-size: 1em;
  }
}
```

å®Œæ•´ css

```css
/* Navå¯¼èˆªæ  */
#nav {
  justify-content: space-between;
  user-select: none;
}

#nav .site-page:not(.child):after {
  display: none;
}

.nav-fixed #nav {
  backdrop-filter: blur(5px) saturate(150%);
}

.menus_item_child li:not(#sidebar-menus li) {
  float: left;
  border-radius: 6px !important;
  -webkit-border-radius: 6px !important;
  -moz-border-radius: 6px !important;
  -ms-border-radius: 6px !important;
  -o-border-radius: 6px !important;
}

.menus_item_child:not(#sidebar-menus ul) {
  /*
    left:calc(-150%)!important;è¿™æ˜¯ä¼°ç®—å€¼ï¼Œä¸ºäº†ä¿æŒå…ƒç´ å±…ä¸­çš„ï¼Œå¦‚æœä¸åˆé€‚å¯ä»¥è‡ªå·±è°ƒ
    æ”¹ä¸ºï¼š*/
  left: 50%;
  translate: -50%;
}

#nav #blog-info {
  overflow: visible;
  flex: none;
  z-index: 99;
}

#nav #blog-info a {
  position: relative;
  font-size: 1.2em;
}

#nav #blog-info a::before {
  opacity: 0;
  background-color: var(--theme-color) !important;
  border-radius: 8px;
  -webkit-border-radius: 8px;
  -moz-border-radius: 8px;
  -ms-border-radius: 8px;
  -o-border-radius: 8px;

  transition: 0.3s;
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -ms-transition: 0.3s;
  -o-transition: 0.3s;

  position: absolute;
  transform: translate(-50%, -50%);
  top: 55%;
  left: 50%;
  width: 120%;
  height: 120%;
  content: "\f015";
  box-shadow: 0 0 5px var(--theme-color);
  font-family: "Font Awesome 6 Free";
  text-align: center;
  color: white;
  line-height: 34px;
  font-size: 18px;
  font-weight: 900;
}

#nav #blog-info a:hover::before {
  opacity: 1;
  scale: 1.03;
}

#nav.hide-menu .menus_items {
  display: inline-block;
  transition: 0.3s;
}

#nav .menus_items .menus_item,
#nav .site-page.social-icon.search {
  padding: 0 10px;
  margin: 0 5px;
  border-radius: 10px;
  transition: 0.5s;
}

#nav .menus_items .menus_item:hover,
#nav .site-page.social-icon.search:hover {
  background: var(--theme-color);
  box-shadow: 0 0 5px var(--theme-color);
}

#nav .menus_items .menus_item:hover a {
  color: #fff;
}

#page-header.nav-fixed #nav .menus_items .menus_item:hover a,
#page-header.nav-fixed #nav .site-page.social-icon.search:hover {
  color: #fff;
}

#menuTitleBox {
  position: absolute;
  z-index: -1;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  overflow: hidden;
}

#menuTitleBox #name-container {
  height: 100%;
  line-height: 60px;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  transition: 0.3s;
}

#menuTitleBox #name-container::before {
  opacity: 0;
  background-color: var(--theme-color) !important;
  border-radius: 8px;
  -webkit-border-radius: 8px;
  -moz-border-radius: 8px;
  -ms-border-radius: 8px;
  -o-border-radius: 8px;

  transition: 0.3s;
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -ms-transition: 0.3s;
  -o-transition: 0.3s;

  position: absolute;
  transform: translate(-50%, -50%);
  top: 50%;
  left: 50%;
  width: 100%;
  height: 60%;
  content: "å›åˆ°é¡¶éƒ¨";
  box-shadow: 0 0 5px var(--theme-color);
  text-align: center;
  color: white;
  line-height: 36px;
  font-size: 18px;
  font-weight: 900;
}

#menuTitleBox #name-container:hover::before {
  opacity: 1;
  scale: 1.03;
}

#nav.hide-menu #toggle-menu {
  display: none !important;
}

#nav #nav-right {
  z-index: 99;
}

#nav a.site-page {
  padding-bottom: 6px;
  display: inline-block;
}

#nav a.site-page span {
  padding-left: 4px;
}

#nav a.site-page::before {
  display: none;
}

#nav .menus_items .menus_item .menus_item_child {
  padding: 5px;
  border-radius: 15px;
}

#nav .menus_items .menus_item .menus_item_child li {
  transition: 0.3s;
  border-radius: 10px !important;
  margin: 0 2px;
}

#nav .menus_items .menus_item .menus_item_child li:hover a {
  color: #fff !important;
}

@media screen and (max-width: 768px) {
  /* èœå•ä¿®å¤ */
  #nav.hide-menu #toggle-menu {
    display: inline-block !important;
  }

  #menus {
    display: none;
  }

  #nav #blog-info a {
    font-size: 1em;
  }
}

/* Navå¯¼èˆªæ  */
```

{% endfolding %}

## é¦–é¡µåˆ†ç±»ç£è´´

ä½¿ç”¨çš„æ˜¯å°å†°å¤§ä½¬çš„æ’ä»¶

{% link æ•™ç¨‹ï¼šhexo-magnet æ’ä»¶ 1.0,ã—ã‚…ãµãŒã,https://zfe.space/post/hexo-magnet.html %}

å…¶ä¸­æ·±è‰²æ¨¡å¼é€‚é…æˆ‘æ˜¯ç”¨äº† css å˜é‡

```yml
# å°å†°åˆ†ç±»ç£è´´
color_setting:
  text_color: var(--fl-text)
  text_hover_color: var(--fl-hover-text)
  background_color: var(--fl-bg)
  background_hover_color: var(--theme-color)
```

```css
:root {
  /* é¦–é¡µåˆ†ç±»ç£è´´ */
  --fl-bg: #e5e5e5;
  --fl-text: #000;
  --fl-hover-text: #fff;
}

[data-theme="dark"] {
  /* é¦–é¡µåˆ†ç±»ç£è´´ */
  --fl-bg: #222;
  --fl-text: #fff;
}
```

## é¦–é¡µç½®é¡¶è½®æ’­

å‚è€ƒ

{% link åšå®¢é­”æ”¹æ—¥è®°ï¼ˆ3ï¼‰,Ariasaka,https://blog.yaria.top/posts/670e47f/ %}

{% link Butterflyè½®æ’­å›¾Swiper,June,https://blog.june-pj.cn/posts/811bada5 %}

å†åŠ ä¸Šè‡ªå·±å¾®è°ƒ

```css
/* é¦–é¡µè½®æ’­å›¾ */

#swiper_container .blog-slider__content {
  height: 250px;
}

#swiper_container a.blog-slider__title {
  font-weight: bold;
}

#swiper_container .blog-slider__text {
  font-size: 1em;
}

#swiper_container .swiper-button-next:after,
#swiper_container .swiper-button-prev:after {
  color: var(--theme-color);
}

/* é¦–é¡µè½®æ’­å›¾ */
```

## å½’æ¡£ã€åˆ†ç±»ã€æ ‡ç­¾é¡µç¾åŒ–

å‚è€ƒ

{% link æœ¬ç«™çš„ä¸€äº›æ ·å¼é­”æ”¹,ichika,https://ichika.cc/Article/beautiful_MyBeautiful %}

è‡ªå·±ä¿®æ”¹çš„ css:

### å½’æ¡£

```css
/* å½’æ¡£ã€æ ‡ç­¾ã€åˆ†ç±»é¡µ */

#archive,
#tag,
#category {
  padding: 25px 10px;
}

.article-sort-title {
  margin-top: 30px;
  margin-bottom: 20px;
}

.article-sort-item::before,
.article-sort-title::before,
.article-sort-title::after {
  content: none;
}

.article-sort .year {
  width: 100% !important;
  border-bottom: dashed 5px var(--theme-color);
  font-size: 26px;
  margin-top: 20px;
}

.article-sort {
  border: none;
  display: flex;
  flex-wrap: wrap;
  margin: 20px 20px;
  padding: 0;
}

.article-sort-item:not(.year) {
  padding: 8px 10px;
  width: calc(50% - 0.8rem);
  margin: 0.4rem;
  border: 2px solid var(--theme-color);
  border-radius: 15px;
  background: var(--card-bg);
  transition: 0.5s;
  height: 120px;
}

.article-sort-item-a {
  position: absolute;
  width: 100%;
  height: 100%;
}

.article-sort-item-img {
  transition: 0.5s;
  height: 90px;
  width: 140px;
}

.article-sort-item > a > img {
  border-radius: 15px;
}

.article-sort-item-title {
  font-size: 22px;
  padding-left: 10px;
  margin: 10px 0;
  line-height: 25px;
  text-overflow: ellipsis;
}

.article-sort-item-title:hover {
  transform: none;
}

.article-sort-meta {
  height: max-content;
  position: relative;
}

.article-sort-meta > .article-meta-wrap {
  float: left;
}

.article-sort-meta > .article-sort-item-time {
  float: right;
}

.article-sort-item-categories,
.article-sort-item-tags {
  margin: 0 3px;
  padding: 5px 8px;
  border-radius: 25px;
  border: var(--archives-categories-border);
  font-size: 12px;
  transition: 0.5s;
}

.article-sort-item-info > div:not(.article-sort-meta) {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.article-sort-item > i {
  position: absolute;
  right: 10px;
  color: var(--archives-hover-font);
}

.article-sort-description,
.article-sort-item > i {
  width: 0;
  opacity: 0;
  overflow: hidden;
  transition: 0.5s;
}

.article-sort-description {
  width: 0;
  height: 59px;
  line-height: 59px;
  vertical-align: middle;
  margin: 5px 10px 0 15px;
  text-overflow: ellipsis;
}

.article-sort-item:hover:not(.year) {
  background-color: var(--theme-color);
  box-shadow: 0 0 10px var(--theme-color);
}

.article-sort-item:hover:not(.year) {
  background-color: var(--theme-color);
  box-shadow: 0 0 10px var(--theme-color);
}

.article-sort-item:hover:not(.year) .article-sort-description,
.article-sort-item:hover:not(.year) > i {
  width: auto;
  opacity: 1;
}

.article-sort-item:hover:not(.year) .article-sort-description {
  width: auto;
}

.article-sort-item:hover:not(.year) .article-sort-item-img {
  transition: 0.5s;
  width: 0;
}

.article-sort-item:hover:not(.year) .article-sort-item-title {
  color: var(--archives-hover-font) !important;
}

.article-sort-item:hover:not(.year) .article-meta-wrap a,
.article-sort-item:hover:not(.year) .article-sort-description,
.article-sort-item:hover:not(.year) .article-sort-item-time {
  color: var(--archives-hover-timeColor) !important;
}

.article-sort-item:hover:not(.year) .article-sort-item-categories {
  border: var(--archives-categories-border);
}

.article-sort-item:hover:not(.year) .article-sort-item-tags {
  border: var(--archives-categories-border);
}

#pagination .page-number {
  border-radius: 6px;
}

@media screen and (max-width: 768px) {
  .article-sort-item:not(.year) {
    width: 100%;
  }

  .article-sort-meta > .article-meta-wrap {
    display: none;
  }

  .article-sort-item-title {
    font-size: 16px;
  }

  .article-sort-item-img {
    width: 90px;
  }
}

/* å½’æ¡£ã€æ ‡ç­¾ã€åˆ†ç±»é¡µ end */
```

{% note warning simple %}è¸©äº†ä¸ªå‘ï¼Œå½’æ¡£é¡µæ˜¾ç¤ºæ ‡ç­¾ï¼ˆtagsï¼‰è¦åœ¨é…ç½®æ–‡ä»¶å¼€å¯ï¼Œæµªè´¹äº†æˆ‘å¥½å¤šæ—¶é—´ ğŸ˜­ğŸ˜­{% endnote %}

### åˆ†ç±»

åªå‚è€ƒäº†ä¸€ä¸‹ meuicat å¤§ä½¬çš„é¡µé¢ï¼Œcss æ˜¯è‡ªå·±æ‰‹æ“çš„ {% psw ç»å¯¹ä¸æ˜¯å› ä¸ºæ‡’å¾—æ”¹å˜é‡ (ç¡®ä¿¡) %}

{% link æ–‡ç« åˆ†ç±»,äº¦å°å°,https://meuicat.com/categories/ %}

```css
/* åˆ†ç±» */
.category-lists ul li:before {
  content: "\f550";
  font-weight: 900;
  cursor: pointer;
  font-family: "Font Awesome 6 Free";
  position: static;
  border: none;
  font-size: 20px;
  width: auto;
  height: auto;
}

.category-lists .category-list .category-list-count:before,
.category-lists .category-list .category-list-count:after {
  display: none;
}

.category-lists ul {
  padding: 0;
  margin: 20px 0;
  display: flex;
  justify-content: center;
  flex-direction: row;
  flex-wrap: wrap;
}

.category-lists ul li {
  padding: 0.5em;
  border: 1px solid #cacaca;
  border-radius: 15px;
  margin: 10px;
  padding: 10px;
  box-shadow: 0 0 8px 6px #2c2d300c;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: 0.5s;
}

.category-lists ul li:hover {
  box-shadow: 0 0 8px 5px var(--theme-color);
  background: var(--theme-color);
  border-color: var(--theme-color);
  transform: scale(1.1);
}

.category-lists ul li:hover a {
  color: #fff;
}

.category-lists ul li a:hover {
  color: #fff !important;
}

.category-lists .category-list a {
  font-size: 1.2em;
  margin: 0 10px;
}

.category-lists .category-list .category-list-count {
  color: #858585;
  background: #e5e5e5;
  padding: 2px 15px;
  margin: 0;
  border-radius: 10px;
}
```

### æ ‡ç­¾

{% note info simple %}
å¦‚æœæ ‡ç­¾é¡µçš„æ ‡ç­¾æ²¡æœ‰æ•°å­—çš„è¯çœ‹è¿™é‡Œ

ä¿®æ”¹ `[themes]\butterfly\scripts\helpers\page.js`

```diff
  const length = sizes.length - 1
  source.sort(orderby, order).forEach(tag => {
    const ratio = length ? sizes.indexOf(tag.length) / length : 0
    const size = minfontsize + ((maxfontsize - minfontsize) * ratio)
    let style = `font-size: ${parseFloat(size.toFixed(2))}${unit};`
    const color = 'rgb(' + Math.floor(Math.random() * 201) + ', ' + Math.floor(Math.random() * 201) + ', ' + Math.floor(Math.random() * 201) + ')' // 0,0,0 -> 200,200,200
    style += ` color: ${color}`
-    result += `<a href="${env.url_for(tag.path)}" style="${style}">${tag.name}</a>`
+    result += `<a href="${env.url_for(tag.path)}" style="${style}">${tag.name}<span>${tag.length}</span></a>`
  })
  return result
```

{% endnote %}

```css
/* æ ‡ç­¾ */
.tag-cloud-list.is-center {
  display: flex;
  justify-content: center;
  flex-direction: row;
  flex-wrap: wrap;
}

.tag-cloud-list a {
  color: var(--font-color) !important;
  padding: 0.5em;
  border: 1px solid #cacaca;
  border-radius: 15px;
  margin: 10px;
  padding: 10px;
  box-shadow: 0 0 8px 6px #2c2d300c;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: 0.3s;
}

.tag-cloud-list a:hover {
  color: #fff !important;
  box-shadow: 0 0 8px 5px var(--theme-color);
  background: var(--theme-color);
  border-color: var(--theme-color);
  transform: scale(1.1);
}

.tag-cloud-list a span {
  margin-left: 10px;
  color: #858585;
  background: #e5e5e5;
  padding: 2px 15px;
  border-radius: 10px;
}

.tag-cloud-list a:before {
  content: "\f02b";
  color: var(--tag-icon-color);
  font-weight: 900;
  cursor: pointer;
  font-family: "Font Awesome 6 Free";
  position: static;
  border: none;
  font-size: 20px;
  width: auto;
  height: auto;
  margin-right: 10px;
}
```

## å³ä¸‹è§’èœå•ä¿®æ”¹

### æ·»åŠ ç›´è¾¾åº•éƒ¨

ä¿®æ”¹ `[themes]\butterfly\layout\includes\rightside.pug` , åœ¨æœ€ä¸‹é¢æ·»åŠ ä»£ç  (æ³¨æ„ç¼©è¿›)

```pug
button#go-down(type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500);")
  i.fas.fa-arrow-down
```

### æ ·å¼ç¾åŒ–

```css
/* å³ä¸‹è§’èœå• */

#rightside #rightside-config-show > button,
#rightside #rightside-config-hide > button {
  border-radius: 50%;
}

/* å³ä¸‹è§’èœå• end */
```

## æŒä¹…åŒ– url

å®‰è£… `hexo-abbrlink2` æ’ä»¶

```shell
npm install hexo-abbrlink2 --save
```

ä¿®æ”¹ `_config.yml` çš„ `permalink` ä¸º

```yml
permalink: posts/:abbrlink/ # æ°¸ä¹…é“¾æ¥æ ¼å¼
```

åœ¨ `_config.yml` æ·»åŠ é…ç½®

```yml
# hexo-abbrlink2
# æŒä¹…åŒ–url
abbrlink:
  start: 0 # å¯èµ·å§‹æ–‡ç« idï¼Œé»˜è®¤ä¸º0 ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œæ¯”å¦‚100
```

## Foot é¡µè„š

å‚è€ƒ

{% link çŒ¹çš„é­”æ”¹æ—¥è®°-å°å°çš„é‡å†™ä¸ªé¡µè„š,è´°çŒ¹,https://noionion.top/46524.html %}

æˆ‘çš„ `footer.pug` å’Œ `footer.styl`

```pug
#footer-wrap
  .wordcount
    - let allword = totalcount(site)
    span= 'æ¥ å±…ç„¶å†™äº† ' + allword + ' å­—'
    br
    if isNaN(allword)
      - allword= Number(allword.replace('k', ''))
      if allword< 50
        span= "è¿˜åœ¨åŠªåŠ›æ›´æ–°ä¸­.. å’•å’•å’•"
      else if allword< 70
        span= "å¥½åƒå†™å®Œä¸€æœ¬ åŸƒå…‹è‹ä½©é‡Œ çš„ ã€Šå°ç‹å­ã€‹ äº†å•Š"
      else if allword< 90
        span= "å¥½åƒå†™å®Œä¸€æœ¬ é²è¿… çš„ ã€Šå‘å–Šã€‹ äº†å•Š"
      else if allword< 100
        span= "å¥½åƒå†™å®Œä¸€æœ¬ æ—æµ·éŸ³ çš„ ã€ŠåŸå—æ—§äº‹ã€‹ äº†å•Š"
      else if allword< 110
        span= "å¥½åƒå†™å®Œä¸€æœ¬ é©¬å…‹Â·åæ¸© çš„ ã€Šç‹å­ä¸ä¹ä¸ã€‹äº†ï¼ äº†å•Š"
      else if allword< 120
        span= "å¥½åƒå†™å®Œä¸€æœ¬ é²è¿… çš„ ã€Šå½·å¾¨ã€‹ äº†å•Š"
      else if allword< 130
        span= "å¥½åƒå†™å®Œä¸€æœ¬ ä½™å çš„ ã€Šæ´»ç€ã€‹ äº†å•Š"
      else if allword< 140
        span= "å¥½åƒå†™å®Œä¸€æœ¬ æ›¹ç¦º çš„ ã€Šé›·é›¨ã€‹ äº†å•Š"
      else if allword< 150
        span= "å¥½åƒå†™å®Œä¸€æœ¬ å²é“ç”Ÿ çš„ ã€Šå®¿å‘½çš„å†™ä½œã€‹ äº†å•Š"
      else if allword< 160
        span= "å¥½åƒå†™å®Œä¸€æœ¬ ä¼¯å†…ç‰¹ çš„ ã€Šç§˜å¯†èŠ±å›­ã€‹ äº†å•Š"
      else if allword< 170
        span= "å¥½åƒå†™å®Œä¸€æœ¬ æ›¹ç¦º çš„ ã€Šæ—¥å‡ºã€‹ äº†å•Š"
      else if allword< 180
        span= "å¥½åƒå†™å®Œä¸€æœ¬ é©¬å…‹Â·åæ¸© çš„ ã€Šæ±¤å§†Â·ç´¢äºšå†é™©è®°ã€‹ äº†å•Š"
      else if allword< 190
        span= "å¥½åƒå†™å®Œä¸€æœ¬ æ²ˆä»æ–‡ çš„ ã€Šè¾¹åŸã€‹ äº†å•Š"
      else if allword< 200
        span= "å¥½åƒå†™å®Œä¸€æœ¬ äºšç±³å¥‘æ–¯ çš„ ã€Šçˆ±çš„æ•™è‚²ã€‹ äº†å•Š"
      else if allword< 210
        span= "å¥½åƒå†™å®Œä¸€æœ¬ å·´é‡‘ çš„ ã€Šå¯’å¤œã€‹ äº†å•Š"
      else if allword< 220
        span= "å¥½åƒå†™å®Œä¸€æœ¬ ä¸œé‡åœ­å¾ çš„ ã€Šè§£å¿§æ‚è´§åº—ã€‹ äº†å•Š"
      else if allword< 230
        span= "å¥½åƒå†™å®Œä¸€æœ¬ è«æ³Šæ¡‘ çš„ ã€Šä¸€ç”Ÿã€‹ äº†å•Š"
      else if allword< 250
        span= "å¥½åƒå†™å®Œä¸€æœ¬ ç®€Â·å¥¥æ–¯æ±€ çš„ ã€Šå‚²æ…¢ä¸åè§ã€‹ äº†å•Š"
      else if allword< 280
        span= "å¥½åƒå†™å®Œä¸€æœ¬ é’±é’Ÿä¹¦ çš„ ã€Šå›´åŸã€‹ äº†å•Š"
      else if allword< 300
        span= "å¥½åƒå†™å®Œä¸€æœ¬ å¼ ç‚œ çš„ ã€Šå¤èˆ¹ã€‹ äº†å•Š"
      else if allword< 310
        span= "å¥½åƒå†™å®Œä¸€æœ¬ èŒ…ç›¾ çš„ ã€Šå­å¤œã€‹ äº†å•Š"
      else if allword< 320
        span= "å¥½åƒå†™å®Œä¸€æœ¬ é˜¿æ¥ çš„ ã€Šå°˜åŸƒè½å®šã€‹ äº†å•Š"
      else if allword< 340
        span= "å¥½åƒå†™å®Œä¸€æœ¬ è‰¾ç±³è‰Â·å‹ƒæœ—ç‰¹ çš„ ã€Šå‘¼å•¸å±±åº„ã€‹ äº†å•Š"
      else if allword< 350
        span= "å¥½åƒå†™å®Œä¸€æœ¬ é›¨æœ çš„ ã€Šå·´é»åœ£æ¯é™¢ã€‹ äº†å•Š"
      else if allword< 360
        span= "å¥½åƒå†™å®Œä¸€æœ¬ ä¸œé‡åœ­å¾ çš„ ã€Šç™½å¤œè¡Œã€‹ äº†å•Š"
      else
        span= "å¥½åƒå†™å®Œä¸€æœ¬æˆ‘å›½è‘—åçš„ å››å¤§åè‘— äº†ï¼ï¼ï¼"
    else
      span= "è¿˜åœ¨åŠªåŠ›æ›´æ–°ä¸­.. å’•å’•å’•"

  .footer-content
    div(style="font-size: 0.7rem")
      span#timeDate= 'è½½å…¥å¤©æ•°...'
      span= ' '
      span#times= 'è½½å…¥æ—¶åˆ†ç§’...'
      script(src="/static/js/duration.js")

  if theme.footer.owner.enable
    - var now = new Date()
    - var nowYear = now.getFullYear()
    if theme.footer.owner.since && theme.footer.owner.since != nowYear
      .copyright!= `&copy;${theme.footer.owner.since} - ${nowYear} By ${config.author}`
    else
      .copyright!= `&copy;${nowYear} By ${config.author}`
  if theme.footer.copyright
    .framework-info
      span= _p('footer.framework') + ' '
      a(href='https://hexo.io')= 'Hexo'
      span.footer-separator |
      span= _p('footer.theme') + ' '
      a(href='https://github.com/jerryc127/hexo-theme-butterfly')= 'Butterfly'
  if theme.footer.custom_text
    .footer_custom_text!=`${theme.footer.custom_text}`

```

```styl
#footer
  position: relative

  .wordcount
    text-align: center
    font-family: 'Noto Serif SC', -apple-system,BlinkMacSystemFont,Roboto,Segoe UI,Helvetica,Arial,serif
    font-size: large
    padding: 2rem 0 0 0

  &::before
    display: none

#footer-wrap
  position: relative
  padding: 40px 20px
  color: var(--font-color)
  text-align: center

  a
    color: var(--light-grey)
    margin: 0 5px

    &:hover
      text-decoration: underline

    img
      max-height: 20px

  &>div
    margin: 10px 0

  .footer-separator
    margin: 0 4px

  .icp-icon
    padding: 0 4px
    max-height: 1.4em
    width: auto
    vertical-align: text-bottom

```

## é¦–é¡µå°é¢æ ·å¼

```css
/* é¦–é¡µä¿®æ”¹ */

body {
  background: var(--qn-body-bg);
  /* ç¡®ä¿ä¼ªå…ƒç´ ç›¸å¯¹äºå®¹å™¨å®šä½ */
}

@media screen and (min-width: 768px) {
  .page {
    position: relative;
  }

  .page::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    /* ç¡®ä¿ä¼ªå…ƒç´ åœ¨å†…å®¹çš„ä¸‹æ–¹ */
    background: var(--qn-body-bg);
    background-attachment: local;
    background-position: center;
    background-repeat: initial;
    background-image: var(--qn-bg-img);
    will-change: opacity, transform, filter;
    opacity: calc(1 - var(--process) * 1) !important;
    filter: blur(calc(var(--process) * 10px));
    transform: scale(calc(1 + var(--process) * 0.1));
    /* å¯é€‰ï¼Œå¢åŠ å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */
  }

  [data-theme="dark"] .page.home::before {
    height: 100vh;
  }

  [data-theme="dark"] .page::before {
    width: 100%;
    height: 400px;
    background: var(--qn-body-bg);
    background-attachment: local;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    /* ä¿æŒèƒŒæ™¯å›¾ç‰‡çš„åŸå§‹å°ºå¯¸ */
    background-image: var(--qn-bg-img);
  }
}

@media screen and (max-width: 768px) {
  .page::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    /* ç¡®ä¿ä¼ªå…ƒç´ åœ¨å†…å®¹çš„ä¸‹æ–¹ */
    background: var(--qn-body-bg);
    background-attachment: local;
    background-position: center;
    background-repeat: initial;
    background-image: var(--qn-bg-img);
  }

  [data-theme="dark"] .page::before {
    width: 100%;
    height: 100vh;
    background: var(--qn-body-bg);
    background-attachment: local;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    position: fixed;
    background-image: var(--qn-bg-img);
  }
}

.article-meta-separator,
.article-meta-wrap i,
.article-meta-link {
  margin: 0 6px;
}

.home #page-header:not(.not-top-img):before,
.page #page-header::before {
  display: none;
}

#page-header {
  background: none;
}

/* å¯¼èˆªæ  */
/* å°é¢æ ‡é¢˜ */
/* å°é¢å‰¯æ ‡é¢˜ */
/* æ‰‹æœºç«¯Icon */
#nav a,
#page-header #site-title,
#page-header #site-subtitle,
#page-header #site_social_icons .social-icon {
  color: var(--header-font-color);
}

/* é¦–é¡µä¿®æ”¹ end */
```

```js
// é¦–é¡µå°é¢æ ·å¼

window.addEventListener("scroll", function () {
  // è·å–å½“å‰é¡µé¢æ»šåŠ¨çš„é«˜åº¦
  const scrollTop = window.scrollY || document.documentElement.scrollTop;

  // è·å–90%è§†å£é«˜åº¦ï¼Œå³é¡µé¢90vhå¯¹åº”çš„åƒç´ å€¼
  const thresholdHeight = window.innerHeight * 0.8;

  // è®¡ç®—scrollTopå thresholdHeightçš„æ¯”ä¾‹ï¼Œå¹¶é™åˆ¶åœ¨0-1ä¹‹é—´
  let scrollPercentage = scrollTop / thresholdHeight;
  if (scrollPercentage > 1) {
    scrollPercentage = 1;
  } else if (scrollPercentage < 0) {
    scrollPercentage = 0;
  }

  // è¾“å‡ºæˆ–ä½¿ç”¨è¿™ä¸ªscrollPercentageå€¼
  console.log(scrollPercentage);

  // å°†è¿™ä¸ªå€¼åº”ç”¨äºå…¶ä»–æ“ä½œï¼Œä¾‹å¦‚CSSå˜é‡
  document.documentElement.style.setProperty("--process", scrollPercentage);
});

// é¦–é¡µå°é¢æ ·å¼ end --
```

## æ–‡ç« é¡µæ ·å¼

```css
/* æ–‡ç« é¡µ */

/* é¡¶éƒ¨å°é¢ */
.post-bg {
  position: relative;
}

#page-header:not(.not-top-img):before {
  position: absolute;
  width: 100%;
  height: 100%;
  background-color: var(--mark-bg);
  content: "";
  backdrop-filter: blur(8px) brightness(0.5);
}

.post #page-header {
  background-position: center center;
  background-size: cover;
  background-repeat: no-repeat;
}

/* å¯¼èˆªæ  */
.post #page-header #nav a {
  color: var(--post-header-font-color);
}

.post #page-header.nav-fixed #nav a {
  color: var(--post-fixed-nav-font-color);
}

/* ç›®å½• */
#aside-content #card-toc .toc-content .toc-link.active {
  border-radius: 5px;
}

/* æ–‡ç« é¡µ end */
```

### æ³¢æµªçº¿

å‚è€ƒ

{% link butterflyæ–‡ç« é¡¶éƒ¨æ·»åŠ æ³¢æµªæ•ˆæœ,å®‰çŸ¥é±¼,https://blog.anheyu.com/posts/98c4.html %}

## æœç´¢æ—¶æ»šåŠ¨æ¡æ¶ˆå¤±æ¢å¤

æˆ‘å‘ç°åœ¨æ‰“å¼€æœç´¢å¼¹çª—çš„æ—¶å€™ä¼šç¦æ­¢æ»šåŠ¨é¡µé¢ï¼Œå¹¶ä¸”æ»šåŠ¨æ¡ä¼šæ¶ˆå¤±ï¼Œé€ æˆé¡µé¢å®½åº¦å˜åŒ–ï¼Œå¾ˆä¸‘ï¼Œæ‰€ä»¥å°±æ‰¾åŠæ³•ç»™ä»–å¹²æ‰äº†

ä¿®æ”¹ `[themes]\butterfly\source\js\search\local-search.js` å¤§çº¦ç¬¬ 7 è¡Œ

```diff
window.addEventListener('load', () => {
  let loadFlag = false
  let dataObj = []
  const $searchMask = document.getElementById('search-mask')

  const openSearch = () => {
-    const bodyStyle = document.body.style
-    bodyStyle.width = '100%'
-    bodyStyle.overflow = 'hidden'
    btf.animateIn($searchMask, 'to_show 0.5s')
    btf.animateIn(document.querySelector('#local-search .search-dialog'), 'titleScale 0.5s')
    setTimeout(() => { document.querySelector('#local-search-input input').focus() }, 100)
    if (!loadFlag) {
      search()
      loadFlag = true
    }
...
```

## ä¿®æ”¹ç½‘ç«™ cdn

ä¼˜åŒ–ä¸€ä¸‹åŠ è½½é€Ÿåº¦

cdn å¤§éƒ¨åˆ†æ¥è‡ª Heo ä½¬

{% link Butterfly CDNé“¾æ¥æ›´æ”¹æŒ‡å—ï¼Œæ›¿æ¢jsdelivræå‡è®¿é—®é€Ÿåº¦,å¼ æ´ªHeo,https://blog.zhheo.com/p/790087d9.html %}

æˆ‘çš„ option

```yml
option:
	countup_js: /static/js/countup.js
	# main_css:
	# main:
	# utils:
	translate: https://cdn.jsdmirror.com/npm/js-heo@1.0.6/translate/tw_cn.js
	# local_search:
	algolia_js: https://cdn.jsdmirror.com/npm/js-heo@1.0.11/algolia/algolia.js
	algolia_search_v4: https://cdn.staticfile.org/algoliasearch/4.14.3/algoliasearch-lite.umd.min.js
	instantsearch_v4: https://cdn.staticfile.org/instantsearch.js/4.49.2/instantsearch.production.min.js
	# docsearch_js:
	# docsearch_css:
	pjax: https://lib.baomitu.com/pjax/0.2.8/pjax.min.js
	gitalk: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js
	gitalk_css: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css
	# blueimp_md5:
	valine: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.16/Valine.min.js
	disqusjs: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/disqusjs/1.3.0/disqus.js
	disqusjs_css: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/disqusjs/1.3.0/disqusjs.css
	twikoo: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/twikoo/1.4.18/twikoo.all.min.js
	# waline_js:
	# waline_css:
	sharejs: https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js
	sharejs_css: https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css
	# mathjax:
	# katex:
	# katex_copytex:
	# mermaid:
	# canvas_ribbon:
	# canvas_fluttering_ribbon:
	# canvas_nest:
	lazyload: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js
	instantpage: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js
	typed: https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/typed.js/2.0.12/typed.min.js
	# pangu:
	fancybox_css_v4: https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css
	fancybox_v4: https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js
	medium_zoom: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/medium-zoom/1.0.6/medium-zoom.min.js
	snackbar_css: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css
	snackbar: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js
	# activate_power_mode:
	# fireworks:
	# click_heart:
	# ClickShowText:
	fontawesomeV6: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css
	# flickr_justified_gallery_js:
	# flickr_justified_gallery_css:
	aplayer_css: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css
	aplayer_js: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js
	meting_js: https://cdn.jsdmirror.com/npm/js-heo@1.0.12/metingjs/Meting.min.js
	prismjs_js: https://cdn.jsdmirror.com/npm/prismjs@1.1.0/prism.js
	prismjs_lineNumber_js: https://cdn.jsdmirror.com/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js
	prismjs_autoloader: https://cdn.jsdmirror.com/npm/prismjs/plugins/autoloader/prism-autoloader.min.js
	# artalk_js:
	# artalk_css:
	busuanzi: //npm.elemecdn.com/penndu@1.0.0/bsz.js
```

## é‚£å¹´ä»Šæ—¥

{% link åŸºäº butterfly ä¸»é¢˜çš„å†å²ä¸Šçš„ä»Šå¤© 2.0 é‡ç½®ç‰ˆ,ã—ã‚…ãµãŒã,https://zfe.space/post/history-card.html %}

## ç‚¹å‡»æ–‡ç« å¡ç‰‡è¿›å…¥æ–‡ç« é¡µ

å‚è€ƒ

{% link Butterflyç»™é¦–é¡µé¦–ä¸ªæ–‡ç« æ·»åŠ class,June,https://blog.june-pj.cn/posts/e8d2f03e/ %}

{% link å­çº§aæ ‡ç­¾hrefé¿å…è§¦å‘çˆ¶çº§onclickçš„æ–¹æ³•ï¼Œå­å…ƒç´ é˜»æ­¢å†’æ³¡,å¼ æ´ªHeo,https://blog.zhheo.com/p/74ebf458.html %}

{% folding open, çœ‹ä¸æ‡‚çš„çœ‹è¿™é‡Œ %}

ä¿®æ”¹ `[themes]\butterfly\layout\includes\mixins\post-ui.pug` :

```diff
mixin postUI(posts)
  each article , index in page.posts.data
+    - let link = article.link || article.path
+    .recent-post-item(onclick=`pjax.loadUrl('${url_for(link)}')`)
-    .recent-post-item
      -
-        let link = article.link || article.path
        let title = article.title || _p('no_title')
        const position = theme.cover.position
        let leftOrRight = position === 'both'
          ? index%2 == 0 ? 'left' : 'right'
          : position === 'left' ? 'left' : 'right'
        let post_cover = article.cover
        let no_cover = article.cover === false || !theme.cover.index_enable ? 'no-cover' : ''
      -
```

å¾€ä¸‹ç¿»æ‰¾åˆ° `.article-meta__categories` å’Œ `.article-meta__tags` , åœ¨ `a` æ ‡ç­¾åçš„æ‹¬å·å†…æ·»åŠ  `onclick="window.event.cancelBubble=true;"` **(æ³¨æ„ï¼Œè¦åŠ ä¸ªç©ºæ ¼)**

```diff
if (theme.post_meta.page.categories && article.categories.data.length > 0)
  span.article-meta
    span.article-meta-separator |
    i.fas.fa-inbox
    each item, index in article.categories.data
+      a(href=url_for(item.path) onclick="window.event.cancelBubble=true;").article-meta__categories #[=item.name]
      if (index < article.categories.data.length - 1)
        i.fas.fa-angle-right.article-meta-link
if (theme.post_meta.page.tags && article.tags.data.length > 0)
  span.article-meta.tags
    span.article-meta-separator |
    i.fas.fa-tag
    each item, index in article.tags.data
+      a(href=url_for(item.path) onclick="window.event.cancelBubble=true;").article-meta__tags #[=item.name]
      if (index < article.tags.data.length - 1)
        span.article-meta-link #[='â€¢']
```

{% endfolding %}

## å¤–æŒ‚æ ‡ç­¾ä¹‹æŠ˜å æ 

åº—é•¿çš„å¤–æŒ‚æ ‡ç­¾é‡Œçš„æŠ˜å æ ä¸æ˜¯å¾ˆå–œæ¬¢ï¼Œå› ä¸ºç”¨çš„æ˜¯ `details` å…ƒç´ å®ç°çš„ï¼Œæ²¡æœ‰è¿‡æ¸¡åŠ¨ç”»ï¼Œæ‰€ä»¥å°±è‡ªå·±é‡å†™äº†ä¸€ä¸‹æºç å’Œæ ·å¼

{% folding, å±•ç¤º %}

{% folding open, é»˜è®¤æ‰“å¼€ %}

å†…å®¹

{% endfolding %}

{% folding, é»˜è®¤å…³é—­ %}

å†…å®¹

{% endfolding %}

{% endfolding %}

ç¤ºä¾‹ä»£ç  (å…¶å®å’Œåº—é•¿çš„æ²¡å•¥åŒºåˆ«ï¼Œå°±æ˜¯å°‘äº†ä¸ªé¢œè‰²çš„é€‰é¡¹)

```md
{% folding, å±•ç¤º %}

{% folding open, é»˜è®¤æ‰“å¼€ %}

å†…å®¹

{% endfolding %}

{% folding, é»˜è®¤å…³é—­ %}

å†…å®¹

{% endfolding %}

{% endfolding %}
```

åœ¨ `[themes]\butterfly\scripts\tag` ç›®å½•ä¸‹æ–°å»º `folding.js` æ–‡ä»¶

```js
"use strict";

function postFolding(args, content) {
  args = args.join(" ").split(",");
  let style = "";
  let title = "";
  if (args.length > 1) {
    style = args[0].trim();
    title = args[1].trim();
  } else if (args.length > 0) {
    title = args[0].trim();
  }
  if (style != undefined) {
    return `<div class="details" ${style}>
              <div class="collapsible"> ${title} </div>
              <div class="content">
              ${hexo.render
                .renderSync({ text: content, engine: "markdown" })
                .split("\n")
                .join("")}
              </div>
            </div>`;
  } else {
    return `<div class="details">
              <div class="collapsible"> ${title} </div>
              <div class="content">
              ${hexo.render
                .renderSync({ text: content, engine: "markdown" })
                .split("\n")
                .join("")}
              </div>
            </div>`;
  }
}

hexo.extend.tag.register("folding", postFolding, { ends: true });
```

åœ¨ `[themes]\butterfly\source\css\_tags` ç›®å½•ä¸‹æ–°å»º `folding.styl` æ–‡ä»¶
**Tipsï¼šå¦‚æœéœ€è¦ä¿®æ”¹é¢œè‰²ï¼Œæ”¹é¢œè‰²å˜é‡å°±å¥½äº†**

```styl
.details
  margin: 1em 0
  border: 1px solid transparent
  border-radius: 10px
  transition: all 0.3s

  .content
    padding: 0 20px
    height: 0
    overflow: hidden
    transition: all 0.3s

.collapsible
  background-color: var(--linkDiv-bgColor)
  color: white
  cursor: pointer
  padding: 8px
  text-align: left
  outline: none
  font-size: 15px
  border-radius: 10px
  transition: all 0.3s
  color: var(--linkDiv-titleColor)
  display: flex
  align-items: center
  position: relative
  user-select: none

  &:hover
    cursor: pointer
    background-color: var(--theme-color)
    color: var(--linkDiv-hoverColor)

    &:after
      opacity: 1
      color: var(--linkDiv-hoverColor)

    &:before
      color: var(--linkDiv-hoverColor)

  &:before
    content: "\f0da"
    font-weight: 900
    font-family: "Font Awesome 6 Free"
    font-size: 1.3em
    color: var(--theme-color)
    margin-right: 10px
    transition: all 0.3s

  &:after
    content: '\002B'
    color: var(--linkDiv-titleColor)
    opacity: 0
    font-weight: bold
    float: right
    position: absolute
    right: 15px
    transition: 0.3s

.details[open]>.collapsible:after
  content: "\2212"

.details[open]>.collapsible
  border-radius: 9px 9px 0 0
  background-color: var(--theme-color)
  color: var(--linkDiv-hoverColor)
  margin-bottom: 20px

.details[open]>.collapsible:after
  opacity: 1
  color: var(--linkDiv-hoverColor)

.details[open]>.collapsible:before
  transform: rotate(90deg)
  color: var(--linkDiv-hoverColor)

.details[open]>.content
  border-radius: 0 0 10px 10px

.details[open]
  border: 1px solid var(--theme-color)

```

åœ¨è‡ªå·±çš„ js æ–‡ä»¶å¤¹ä¸‹æ–°å»º `foldMain.js` æ–‡ä»¶ (åå­—éšæ„çš„å•¦) å¹¶å¼•ç”¨

```js
document.querySelectorAll(".collapsible").forEach((button) => {
  var heightTimeOut;
  button.addEventListener("click", function () {
    const details = this.parentElement;
    const content = details.querySelector(".content");
    const contentTranTime =
      parseFloat(window.getComputedStyle(content).transitionDuration) * 1000;

    // åˆ‡æ¢ open å±æ€§
    if (details.hasAttribute("open")) {
      if (heightTimeOut) {
        clearTimeout(heightTimeOut);
      }

      content.style.height = content.scrollHeight + "px";
      setTimeout(() => {
        details.removeAttribute("open");
        content.style.height = 0 + "px"; // æ”¶èµ·æ—¶ï¼Œé‡ç½® max-height
      }, 1);
    } else {
      details.setAttribute("open", "");
      content.style.height = content.scrollHeight + "px"; // å±•å¼€æ—¶ï¼Œè®¾ç½® max-height ä¸ºå†…å®¹é«˜åº¦
      heightTimeOut = setTimeout(() => {
        content.style.height = "auto";
      }, contentTranTime);
    }
  });
});

// é¡µé¢åŠ è½½æ—¶ï¼Œä¸ºå·²å±•å¼€çš„å†…å®¹è®¾ç½® max-height
document.querySelectorAll(".details[open]").forEach((details) => {
  const content = details.querySelector(".content");
  content.style.height = "auto";
});
```

å¼•å…¥ `foldMain.js` å¹¶é€‚é… Pjax

```yml
- <script data-pjax src="/static/js/foldMain.js?1"></script> # å¤–æŒ‚æ ‡ç­¾-æŠ˜å æ 
```

## è¯´è¯´

å› ä¸ºæˆ‘æ²¡æœ‰æœåŠ¡å™¨ ğŸ˜­ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ˜¯æœ¬åœ°é™æ€çš„è¯´è¯´ï¼Œæ­£å¥½æµ®æ¨å¤§ä½¬æ–°å¼€å‘äº†ä¸€ä¸ªè¯´è¯´ï¼Œæˆ‘å°±è¯•è¯•æ°´

æµ®æ¨ä½¬è¯´è¯´çš„é¡¹ç›®åœ°å€

{% link,floatsheep,https://www.npmjs.com/package/hexo-butterfly-statictalk %}

### æ­£å¸¸æ’ä»¶å®‰è£…ç‰ˆ

æ²¡æœ‰è‡ªå®šä¹‰éœ€æ±‚çš„ç›´æ¥ npm å®‰è£…å°±å¥½äº†

```shell
npm install hexo-butterfly-statictalk
```

### é¹Šæ¥ é­”æ”¹å…å®‰è£…ç‰ˆ

è¿™ä¸ªæ˜¯æˆ‘è‡ªå·±æ”¹ç»™è‡ªå·±ç”¨çš„ï¼Œèˆå¼ƒæ‰äº†è‡ªåŠ¨ç”Ÿæˆæ—¶é—´ï¼Œå¯èƒ½ä¸æ˜¯é‚£ä¹ˆå¥½çœ‹å’Œå¥½ç”¨ï¼Œå¯ä»¥è‡ªå·±æ”¹æ”¹

{% folding ,2024/9/2 æ›´æ–° %}

**ä¿®å¤ bug**

```js
function arrangeItems() {
  var container = document.querySelector("#talk-container");
  var items = document.querySelectorAll(".talk-wrapper");

  if (container && items) {
    var containerWidth = container.clientWidth;
    var columns = 3; // é»˜è®¤åˆ—æ•°

    if (containerWidth <= 768) {
      columns = 1; // çª—å£å®½åº¦ <= 768px æ—¶ä¸ºå•åˆ—å¸ƒå±€
    } else if (containerWidth <= 1000) {
      columns = 2; // çª—å£å®½åº¦ <= 1000px æ—¶ä¸ºåŒåˆ—å¸ƒå±€
    }

    var columnHeights = Array(columns).fill(0); // åˆå§‹åŒ–æ¯åˆ—é«˜åº¦ä¸º0
    var columnWidth = containerWidth / columns; // è®¡ç®—æ¯åˆ—å®½åº¦
    var margin = 20; // é—´éš”

    // ä»åå¾€å‰éå† items
    for (var i = items.length - 1; i >= 0; i--) {
      var item = items[i];
      var itemHeight = item.offsetHeight;

      var minHeight = Math.min(...columnHeights); // è·å–æœ€çŸ­åˆ—çš„é«˜åº¦
      var minIndex = columnHeights.indexOf(minHeight); // è·å–æœ€çŸ­åˆ—çš„ç´¢å¼•

      var translateX = minIndex * columnWidth;
      var translateY = minHeight;

      var isLastColumn = minIndex === columns - 1;

      item.style.transform = `translate(${translateX}px, ${translateY}px)`;
      item.style.width = isLastColumn
        ? `${columnWidth}px`
        : `${columnWidth - margin}px`;

      columnHeights[minIndex] += itemHeight + margin;
    }

    container.style.height = `${Math.max(...columnHeights)}px`;
  } else {
    return;
  }
}

function todo() {
  if (location.pathname.startsWith("/talk")) {
    arrangeItems();

    window.addEventListener("scroll", arrangeItems);

    window.addEventListener("resize", arrangeItems);
  }
}

document.addEventListener("pjax:complete", todo);
document.addEventListener("DOMContentLoaded", todo);
```

{% endfolding %}

æ–°å»º `talk` é¡µé¢

```shell
hexo new page talk
```

æ‰“å¼€ `source\talk\index.md` æ·»åŠ 

```md
---
title: è¯´è¯´
date: 2024-08-10 23:25:34
type: talk
---
```

ä¿®æ”¹ `[themes]\butterfly\layout\page.pug`

```diff
extends includes/layout.pug

block content
  #page
    if top_img === false
      h1.page-title= page.title

    case page.type
      when 'tags'
        include includes/page/tags.pug
      when 'link'
        include includes/page/flink.pug
      when 'categories'
        include includes/page/categories.pug
+      when 'talk'
+        include includes/page/talk.pug

      default
        include includes/page/default-page.pug

    if page.comments !== false && theme.comments && theme.comments.use
      - var commentsJsLoad = true
      !=partial('includes/third-party/comments/index', {}, {cache: true})
```

åœ¨ `[themes]\butterfly\layout\includes\page` æ–‡ä»¶å¤¹ä¸‹æ–°å»º `talk.pug` æ–‡ä»¶ï¼Œå†™å…¥

```pug
if site.data.talk
  #talk-container
    each i in site.data.talk
      - let content = markdown(i.content)
      - let time = i.time

      - content = content.replace(/<img src="(.*?)"[^>]*>/g, '<a href="$1" data-fancybox="gallery" data-caption="" data-thumb="$1">$&</a>')

      div.talk-wrapper
        div.talk-content!= content
        div.talk-footer
          div.talk-time= time

```

åœ¨ `[themes]\butterfly\source\css\_page` æ–‡ä»¶å¤¹ä¸‹æ–°å»º `talk.styl` æ–‡ä»¶ï¼Œå†™å…¥

```styl
#talk-container
    width 100%
    position relative

.talk-wrapper
    width 30%
    position absolute
    /* é»˜è®¤å®½åº¦ï¼Œé€‚ç”¨äºä¸‰åˆ—å¸ƒå±€ */
    box-sizing border-box
    padding 1em
    border-radius 10px
    transform translate(0, 0)
    /* åˆå§‹ä½ç½® */
    transition all 0.3s
    box-shadow var(--card-box-shadow)
    border 1px solid var(--talk-time-bg)

    .talk-content
        img
            display: block
            margin: 0 auto 20px
            max-width: 100%
            -webkit-transition: filter 375ms ease-in 0.2s
            -moz-transition: filter 375ms ease-in 0.2s
            -o-transition: filter 375ms ease-in 0.2s
            -ms-transition: filter 375ms ease-in 0.2s
            transition: filter 375ms ease-in 0.2s

.talk-wrapper:hover
    box-shadow var(--card-hover-box-shadow)
    border-color var(--theme-color)

.talk-content h1,
.talk-content h2,
.talk-content h3,
.talk-content h4,
.talk-content h5,
.talk-content h6
    color var(--font-color)

.talk-footer
    border-top 2px dotted var(--talk-time-bg)
    padding 5px
    display flex
    justify-content flex-end

.talk-time
    padding 3px 7px
    background var(--talk-time-bg)
    font-size .7rem
    border-radius 25px
    margin-top 5px

.talk-time::before
    content "\f017"
    font-weight 900
    font-family "Font Awesome 6 Free"
    margin-right 5px

@media (max-width: 768px)
    .talk-wrapper
        width 100% !important
        /* å•åˆ—å¸ƒå±€ */

```

åœ¨è‡ªå·±çš„ `js` æ–‡ä»¶å¤¹ä¸‹æ–°å»º `talk.js` å†™å…¥

```js
function arrangeItems() {
  var container = document.querySelector("#talk-container");
  var items = document.querySelectorAll(".talk-wrapper");

  if (container && items) {
    var columns = 3; // é»˜è®¤åˆ—æ•°
    var containerWidth = container.clientWidth;

    if (containerWidth <= 768) {
      columns = 1; // çª—å£å®½åº¦ <= 768px æ—¶ä¸ºå•åˆ—å¸ƒå±€
    } else if (containerWidth <= 1000) {
      columns = 2; // çª—å£å®½åº¦ <= 1000px æ—¶ä¸ºåŒåˆ—å¸ƒå±€
    }

    var columnHeights = Array(columns).fill(0); // åˆå§‹åŒ–æ¯åˆ—é«˜åº¦ä¸º0
    var columnWidth = containerWidth / columns; // è®¡ç®—æ¯åˆ—å®½åº¦
    var margin = 20; // é—´éš”

    items.forEach((item, index) => {
      // è·å–å½“å‰å…ƒç´ çš„é«˜åº¦
      var itemHeight = item.offsetHeight;

      var minHeight = Math.min(...columnHeights); // è·å–æœ€çŸ­åˆ—çš„é«˜åº¦
      var minIndex = columnHeights.indexOf(minHeight); // è·å–æœ€çŸ­åˆ—çš„ç´¢å¼•

      // è®¡ç®—transformä½ç½®
      var translateX = minIndex * columnWidth;
      var translateY = minHeight;

      // åˆ¤æ–­æ˜¯å¦ä¸ºæœ€åä¸€åˆ—
      var isLastColumn = minIndex === columns - 1;

      // è®¾ç½®transformä½ç½®
      item.style.transform = `translate(${translateX}px, ${translateY}px)`;
      item.style.width = isLastColumn
        ? `${columnWidth}px`
        : `${columnWidth - margin}px`; // æœ€åä¸€åˆ—ä¸å‡å»é—´éš”

      // æ›´æ–°åˆ—é«˜åº¦
      columnHeights[minIndex] += itemHeight + margin; // åŠ ä¸Šåº•éƒ¨é—´è·
    });

    // æ›´æ–°å®¹å™¨çš„é«˜åº¦ä»¥é€‚åº”æ‰€æœ‰åˆ—
    container.style.height = `${Math.max(...columnHeights)}px`;
  } else {
    return;
  }
}

if (location.pathname.startsWith("/talk")) {
  window.onload = arrangeItems();

  // æ»šåŠ¨åé‡æ–°å¸ƒå±€
  window.addEventListener("scroll", arrangeItems);

  // å½“çª—å£å¤§å°æ”¹å˜æ—¶é‡æ–°å¸ƒå±€
  window.addEventListener("resize", arrangeItems);
}
```

å¹¶åœ¨é…ç½®æ–‡ä»¶å¼•å…¥è¯¥ js

```yml
bottom:
  - <script data-pjax src="/static/js/talk.js?1"></script> # è¯´è¯´
```

æœ€ååœ¨ `source\_data` æ–‡ä»¶å¤¹ä¸‹æ–°å»º `talk.yml`

å‚è€ƒå†™æ³•

```yml
- content: |
    1
    test
    # test1
    ![](https://tuchuang.voooe.cn/images/2024/06/19/MUICanvas.webp)
    ![](https://tuchuang.voooe.cn/images/2024/06/19/InstallDolby.webp)
  time: "2024-09-01"
- content: |
    2
    # test1
  time: "2024-09-01"
```

## å…³äºæˆ‘

ç›´æ¥ä»é±¼é‚£é‡Œæ¬è¿‡æ¥çš„å…³äºé¡µé¢ï¼Œåšäº†ä¸€ç‚¹ç‚¹è‡ªå·±çš„ä¿®æ”¹

- åˆ é™¤æèµ  ~~æ¥ çš„ç ´çƒ‚åšå®¢è¿˜æ•¢å¼€æèµ ï¼Ÿï¼~~
- ä¿®æ”¹ 51LA çš„ç»Ÿè®¡æ•°æ®ä¸º Hexo è‡ªå¸¦æ•°æ®

{% link butterflyé­”æ”¹å…³äºé¡µé¢,å®‰çŸ¥é±¼,https://blog.anheyu.com/posts/e62b.html %}

### ç»Ÿè®¡æ•°æ®éƒ¨åˆ†

```pug
#statistic
    div
        span æ–‡ç« æ•°é‡
        span= site.posts.length
    div
        span è¿è¡Œæ—¶é—´
        span#runtimeshow(data-publishDate=date_xml(theme.runtimeshow.publish_date))
    div
        span è®¿å®¢æ•°é‡
        span#busuanzi_value_site_uv
    div
        span æ€»è®¿é—®é‡
        span#busuanzi_value_site_pv
    div
        span æœ€è¿‘æ›´æ–°
        span#last-push-date(data-lastPushDate=date_xml(Date.now()))
```

## ä¿®æ”¹å›½å†…ä¸è’œå­ç»Ÿè®¡å¹³å°

æ¥è‡ªæœè€å¸ˆçš„æ•™ç¨‹

{% link æœè€å¸ˆè‡ªå»ºå›½å†…ä¸è’œå­ç»Ÿè®¡å¹³å°,Teacher Du,https://dusays.com/476/ %}

## å‹ç¼©é™æ€èµ„æº

æ¥è‡ª ç©ºæ¢¦å¤§ä½¬

{% link ç½‘ç«™åŠ è½½é€Ÿåº¦ä¼˜åŒ–æ–¹æ¡ˆæ€»ç»“,ç©ºæ¢¦,https://kmar.top/posts/7d9fb37e/ %}

## Todo

è‡ªå·±ç”¨ md å†™çš„å¤ªä¸‘è¾£ï¼Œæ‡’å¾—åŠ¨è„‘ï¼Œç›´æ¥æ‹¿ äº¦å°å° ä½¬çš„ç”¨

{% link Butterflyçš„é­”æ”¹æ•™ç¨‹ï¼šå¾…åŠæ¸…å•,äº¦å°å°,https://meuicat.com/blog/76/index.html %}

ä¸è¿‡ä½¬çš„ç€‘å¸ƒæµä»£ç åœ¨æˆ‘è¿™é‡Œæœ‰ç‚¹å°é—®é¢˜ï¼Œæˆ‘å°±ç”¨æˆ‘è‡ªå·±çš„å±å±±ä»£ç ä»£æ›¿äº†ï¼‰ï¼‰

## å¤–æŒ‚æ ‡ç­¾ä¹‹å¤–é“¾å¡ç‰‡

å‚è€ƒæ´ªå“¥çš„æ ·å¼

åšå‡ºäº†è‡ªå·±çš„ä¿®æ”¹

ä¿®æ”¹ `[themes]\butterfly\scripts\tag\link.js` ï¼š

```js
function link(args) {
  args = args.join(" ").split(",");
  let title = args[0];
  let sitename = args[1];
  let link = args[2];

  let isLocalLink = link.startsWith("/");

  let tipsText = isLocalLink
    ? "âœ…æ­¤ä¸ºæœ¬ç«™ç«™ç‚¹ï¼Œå¯ä»¥æ”¾å¿ƒé£Ÿç”¨~"
    : "â—è¿™æ˜¯ä¸ªç«™å¤–ç½‘ç«™å‘¢ï¼Œä¸ä¿è¯ç«™ç‚¹çš„å¯ç”¨æ€§å’Œå®‰å…¨æ€§å“Ÿ~";
  let imgUrl = isLocalLink
    ? "https://tuchuang.voooe.cn/images/2024/01/29/logo_icon.png"
    : "https://api.iowen.cn/favicon/" +
      link.replace(/^https?\:\/\//i, "") +
      ".png";

  let targetAttr = isLocalLink ? "" : 'target="_blank"';

  return `<a class="tag-Link" ${targetAttr} href="${link}">
    <div class="tag-link-tips">${tipsText}</div>
    <div class="tag-link-bottom">
        <div class="tag-link-left" style="background-image: url(${imgUrl});"></div>
        <div class="tag-link-right">
            <div class="tag-link-title">${title}</div>
            <div class="tag-link-sitename">${sitename}</div>
        </div>
        <i class="fa-solid fa-angle-right"></i>
    </div>
    </a>`;
}

hexo.extend.tag.register("link", link, { ends: false });
```

ä¿®æ”¹ `[themes]\butterfly\source\css\_tags\link.styl` ï¼š

```stylus
#article-container
  .tag.link
    text-align center
  a
    &.link-card
      margin 0.25rem auto
      background #f6f6f6
      display inline-flex
      align-items center
      cursor pointer
      text-align center
      min-width 200px
      max-width 361px
      color #444
      border-radius 12px
      text-decoration none
      &:hover
        box-shadow 0 4px 8px 0 rgba(0, 0, 0, 0.1)
      div
        &.left
          width 48px
          height 48px
          margin 12px
          overflow hidden
          flex-shrink 0
          position relative
          i
            font-size 32px
            line-height 48px
            margin-left 4px
          img
            display block
            position absolute
            border-radius 2px
            top 50%
            left 50%
            transform translate(-50%, -50%)
        &.right
          overflow hidden
          margin-right 12px
      p
        margin 0
        &.text
          font-weight bold
        &.url
          flex-shrink 0
          color rgba(68, 68, 68, 0.65)
          font-size 13px

@media screen and (max-width: 425px)
  #article-container
    a
      &.link-card
        max-width 100%

@media screen and (max-width: 375px)
  #article-container
    a
      &.link-card
        width 100%

#article-container a.link-card div.left,
#article-container a.link-card div.right
  pointer-events none

[data-theme="dark"]
  #article-container
    a
      &.link-card
        filter brightness(0.7)
        img
          filter brightness(1)
```

## è¯„è®ºæ ·å¼

å‚è€ƒäº† `Ariasaka` å’Œ `åº—é•¿` çš„ä¸€äº›æ ·å¼

css

```css
/* è¯„è®º */

#twikoo .tk-admin {
  position: fixed !important;
  right: -50%;
  z-index: 999;
}

#twikoo .tk-admin.__show {
  left: 100% !important;
  transform: translateX(-100%);
}

.tk-input.el-textarea textarea {
  min-height: 120px !important;
}

.tk-content {
  border-radius: 2px 10px 10px 10px;
  background: #e5e5e5;
  padding: 5px 20px;
  color: #000;
}

.tk-content-expand {
  max-width: 90%;
}

.tk-comment .tk-submit .tk-avatar,
.tk-replies .tk-avatar {
  width: 2.5rem !important;
  height: 2.5rem !important;
}

.tk-comment.tk-master .tk-avatar.tk-clickable.tk-has-avatar {
  margin: 0 0 0 1rem !important;
}

.tk-comment .tk-submit .tk-avatar .tk-avatar-img,
.tk-replies .tk-avatar .tk-avatar-img {
  height: 2.5rem !important;
}

.tk-comment.tk-master .tk-content {
  border-radius: 10px 2px 10px 10px;
}

.tk-comment.tk-master,
.tk-comment.tk-master .tk-row,
.tk-comment.tk-master .tk-extras {
  flex-direction: row-reverse;
  width: 100%;
}

.tk-comment.tk-master .tk-main {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

.twikoo .el-button--primary.is-disabled,
.twikoo .el-button--primary.is-disabled:active,
.twikoo .el-button--primary.is-disabled:focus,
.twikoo .el-button--primary.is-disabled:hover {
  background: #fb85999e !important;
}

.el-button--primary {
  background-color: var(--theme-color) !important;
  border-color: var(--theme-color) !important;
}

.el-button--primary:focus,
.el-button--primary:hover {
  background: #fb8599d9 !important;
  border-color: #fb8599d9 !important;
}

.twikoo .el-input__inner:focus,
.twikoo .el-textarea__inner:focus,
.el-button--primary:focus,
.el-button--primary:hover {
  border-color: #fb8599d9 !important;
}

.tk-icon.__comments,
.tk-action-icon.tk-action-icon-solid,
.tk-action-icon,
.tk-action-count {
  color: var(--theme-color) !important;
}

.tk-tag-green.tk-tag-green {
  background-color: var(--theme-color);
  border: none;
  border-radius: 5px;
  color: #fff;
  margin: 0 10px;
}

#article-container strong:not(strong:has(code)) {
  background: linear-gradient(
      rgba(255, 51, 184, 0.15),
      rgba(255, 51, 184, 0.15)
    ) no-repeat bottom / 100% 30%;
}

a.tk-ruser {
  color: #000;
  margin: 0 5px;
  font-weight: 900;
  font-size: 15px;
}

.tk-collapse-wrap,
.tk-expand-wrap {
  box-shadow: 0 0 5px;
  margin-top: 10px;
  border-radius: 10px;
  overflow: hidden;
  transition: 0.3s;
}

.tk-collapse-wrap:hover,
.tk-expand-wrap:hover {
  border-color: var(--theme-color);
}

.tk-expand {
  font-size: 12px;
}

.tk-expand-wrap .tk-expand:hover {
  background-color: var(--theme-color);
  color: #fff;
}

/* è®¾ç½®æ–‡å­—å†…å®¹ :nth-child(1)çš„ä½œç”¨æ˜¯é€‰æ‹©ç¬¬å‡ ä¸ª */
.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(
    1
  ):before {
  content: "è¾“å…¥æ‚¨çš„æ˜µç§°ğŸŸ";
}

.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(
    2
  ):before {
  content: "æ”¶åˆ°å›å¤å°†ä¼šå‘é€åˆ°æ‚¨çš„é‚®ç®±ï¼Œä½¿ç”¨QQé‚®ç®±è‡ªåŠ¨è·å–å¤´åƒğŸ“§";
}

.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(
    3
  ):before {
  content: "å¯ä»¥é€šè¿‡æ˜µç§°è®¿é—®æ‚¨çš„ç½‘ç«™ğŸ”—";
}

/* å½“ç”¨æˆ·ç‚¹å‡»è¾“å…¥æ¡†æ—¶æ˜¾ç¤º */
.el-input.el-input--small.el-input-group.el-input-group--prepend:focus-within::before,
.el-input.el-input--small.el-input-group.el-input-group--prepend:focus-within::after {
  display: block;
}

/* ä¸»å†…å®¹åŒº */
.el-input.el-input--small.el-input-group.el-input-group--prepend::before {
  /* å…ˆéšè—èµ·æ¥ */
  display: none;
  /* ç»å¯¹å®šä½ */
  position: absolute;
  /* å‘ä¸Šç§»åŠ¨60åƒç´  */
  top: -60px;
  /* æ–‡å­—å¼ºåˆ¶ä¸æ¢è¡Œï¼Œé˜²æ­¢left:50%å¯¼è‡´çš„æ–‡å­—æ¢è¡Œ */
  white-space: nowrap;
  /* åœ†è§’ */
  border-radius: 10px;
  /* è·ç¦»å·¦è¾¹50% */
  left: 50%;
  /* ç„¶åå†å‘å·¦è¾¹æŒªåŠ¨è‡ªèº«çš„ä¸€åŠï¼Œå³å¯å®ç°å±…ä¸­ */
  transform: translate(-50%);
  /* å¡«å…… */
  padding: 14px 18px;
  background: #444;
  color: #fff;
}

/* å°è§’æ ‡ */
.el-input.el-input--small.el-input-group.el-input-group--prepend::after {
  display: none;
  content: "";
  position: absolute;
  /* å†…å®¹å¤§å°ï¼ˆå®½é«˜ï¼‰ä¸º0ä¸”è¾¹æ¡†å¤§å°ä¸ä¸º0çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸€æ¡è¾¹ï¼ˆ4ä¸ªè¾¹ï¼‰éƒ½æ˜¯ä¸€ä¸ªä¸‰è§’å½¢ï¼Œç»„æˆä¸€ä¸ªæ­£æ–¹å½¢ã€‚
    æˆ‘ä»¬å…ˆå°†æ‰€æœ‰è¾¹æ¡†é€æ˜ï¼Œå†ç»™å…¶ä¸­çš„ä¸€æ¡è¾¹æ·»åŠ é¢œè‰²å°±å¯ä»¥å®ç°å°ä¸‰è§’å›¾æ ‡ */
  border: 12px solid transparent;
  border-top-color: #444;
  left: 50%;
  transform: translate(-50%, -48px);
}

/* è¯„è®º end */
```
